{"version":3,"sources":["webpack:///8-6f8a229cea364b1d8604.js","webpack:///./scss/EditModel/EditDataEntryForm.scss","webpack:///./scss/EditModel/EditDataEntryForm.scss?e141","webpack:///./src/EditModel/EditDataEntryForm.component.js","webpack:///./~/d2-ui/lib/headings/Heading.component.js?d681******","webpack:///./~/d2-ui/lib/loading-mask/LoadingMask.component.js?df9e**"],"names":["webpackJsonp","1018","module","exports","__webpack_require__","push","i","1231","content","locals","575","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","clampPaletteWidth","width","Math","min","max","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_rx__","__WEBPACK_IMPORTED_MODULE_1_rx___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton___default","__WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default","__WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox__","__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox___default","__WEBPACK_IMPORTED_MODULE_10_d2_ui_lib_loading_mask_LoadingMask_component__","__WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_action_Action__","__WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__","__WEBPACK_IMPORTED_MODULE_14__modelToEditStore__","__WEBPACK_IMPORTED_MODULE_15__router_utils__","__WEBPACK_IMPORTED_MODULE_16__scss_EditModel_EditDataEntryForm_scss__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","inputPattern","dataElementCategoryOptionIdPattern","dataElementPattern","indicatorPattern","styles","heading","paddingBottom","formContainer","formPaper","margin","padding","position","formSection","marginTop","cancelButton","marginLeft","deleteButton","paletteHeader","paletteFilter","top","paletteFilterField","greySwitch","bottom","left","right","EditDataEntryForm","_React$Component","context","this","_this","getPrototypeOf","state","usedIds","filter","paletteWidth","window","innerWidth","expand","insertGrey","Promise","all","d2","models","dataSets","get","params","modelId","fields","Api","getApi","paging","totals","dataSet","then","_ref","_ref2","ops","flags","operands","dataElementOperands","op","id","indexOf","reduce","out","split","join","displayName","indicators","toArray","sort","a","b","localeCompare","flag","path","name","insertFn","keys","forEach","x","insertElement","bind","insertFlag","filterAction","map","_ref3","data","complete","error","debounce","subscribe","args","setState","formHtml","dataEntryForm","processFormData","formTitle","formStyle","style","_editor","CKEDITOR","replace","plugins","removePlugins","allowedContent","extraPlugins","height","setData","Observable","fromEventPattern","on","getData","getTranslation","i18n","handleSaveClick","handleCancelClick","handleDeleteClick","handleStyleChange","startResize","doResize","endResize","destroy","_this2","payload","htmlCode","post","info","show","message","catch","e","warn","action","_this3","onActionTouchTap","delete","_startPos","clientX","_startWidth","addEventListener","_this4","buttons","preventDefault","stopPropagation","requestAnimationFrame","removeEventListener","styleAttr","disabledAttr","disabled","label","attr","trim","hasOwnProperty","formData","inHtml","outHtml","inputElement","exec","inPos","substr","index","lastIndex","inputHtml","inputStyle","inputDisabled","idMatch","dataElementTotalMatch","indicatorMatch","generateHtml","insertHtml","concat","range","getSelection","getRanges","moveToElementEditablePosition","endContainer","img","keySet","_this5","filteredItems","every","toLowerCase","cellClass","expandClick","createElement","className","onClick","isActive","title","_this6","toggleGrey","onMouseDown","floatingLabelText","onChange","renderPaletteSection","labelPosition","onCheck","checked","assign","marginRight","renderPalette","primaryText","primary","Component","propTypes","PropTypes","object","isRequired","contextTypes","any","586","_objectWithoutProperties","obj","Heading","level","text","children","other","tag","type","headingStyle","_extends","fontSize","fontWeight","color","arguments","source","oneOf","string","defaultProps","745","__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__","__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default","createClass","size","number","getDefaultProps","render","loadingStatusMask","mode"],"mappings":"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","file":"8-6f8a229cea364b1d8604.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 1018:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(271)();\n// imports\n\n\n// module\nexports.push([module.i, \".paletteContainer {\\n  position: fixed;\\n  right: 16px;\\n  top: 112px;\\n  bottom: 16px; }\\n  .paletteContainer:hover .resizeHandle:after {\\n    border-color: rgba(0, 0, 0, 0.12); }\\n  .paletteContainer .resizeHandle {\\n    position: absolute;\\n    top: -20px;\\n    right: 0;\\n    bottom: -16px;\\n    left: -8px;\\n    width: 12px;\\n    cursor: col-resize; }\\n    .paletteContainer .resizeHandle:after {\\n      content: \\\"\\\";\\n      display: block;\\n      position: absolute;\\n      bottom: 0;\\n      top: 0;\\n      border: 0 dashed transparent;\\n      border-left-width: 1px;\\n      margin-left: 5px;\\n      transition: border 125ms linear; }\\n    .paletteContainer .resizeHandle:hover:after {\\n      border-color: rgba(0, 0, 0, 0.45); }\\n  .paletteContainer .palette {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 8px;\\n    background: white;\\n    border-radius: 5px;\\n    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.12); }\\n    .paletteContainer .palette .elements {\\n      position: absolute;\\n      top: 48px;\\n      bottom: 32px;\\n      left: 0;\\n      right: 0;\\n      margin: 8px;\\n      font-size: 13px;\\n      font-weight: 300;\\n      display: flex;\\n      flex-direction: column;\\n      overflow-x: auto; }\\n      .paletteContainer .palette .elements .cell {\\n        position: relative;\\n        flex: 1 1;\\n        transition: all 175ms ease-in-out; }\\n        .paletteContainer .palette .elements .cell.expanded {\\n          flex: 35; }\\n          .paletteContainer .palette .elements .cell.expanded .header .arrow {\\n            transform: rotate(90deg); }\\n        .paletteContainer .palette .elements .cell .header {\\n          font-weight: 700;\\n          font-size: 16px;\\n          padding-top: 8px;\\n          cursor: pointer; }\\n          .paletteContainer .palette .elements .cell .header .arrow {\\n            display: inline-block;\\n            margin: 0 2px;\\n            transition: transform 175ms ease-out; }\\n          .paletteContainer .palette .elements .cell .header .count {\\n            display: inline-block;\\n            font-weight: 400;\\n            font-size: 14px;\\n            margin-left: 4px; }\\n        .paletteContainer .palette .elements .cell .items {\\n          position: absolute;\\n          padding-left: 16px;\\n          top: 32px;\\n          bottom: 0;\\n          left: 0;\\n          right: 0;\\n          overflow: auto; }\\n          .paletteContainer .palette .elements .cell .items .item {\\n            width: 100%;\\n            padding-bottom: 1px;\\n            white-space: nowrap;\\n            overflow: hidden;\\n            text-overflow: ellipsis; }\\n\\n.item.active a, .expand a {\\n  cursor: pointer; }\\n  .item.active a:hover, .expand a:hover {\\n    text-decoration: underline; }\\n\\n.item.inactive a {\\n  color: inherit;\\n  opacity: 0.5;\\n  cursor: default; }\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1231:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1018);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(287)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./EditDataEntryForm.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./EditDataEntryForm.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 575:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rx__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton__ = __webpack_require__(221);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper__ = __webpack_require__(222);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField__ = __webpack_require__(218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox__ = __webpack_require__(239);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_d2_ui_lib_loading_mask_LoadingMask_component__ = __webpack_require__(745);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__ = __webpack_require__(586);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_action_Action__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__modelToEditStore__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__router_utils__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__scss_EditModel_EditDataEntryForm_scss__ = __webpack_require__(1231);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__scss_EditModel_EditDataEntryForm_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__scss_EditModel_EditDataEntryForm_scss__);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar inputPattern = /<input.*?\\/>/gi;\nvar dataElementCategoryOptionIdPattern = /id=\"(\\w*?)-(\\w*?)-val\"/;\nvar dataElementPattern = /dataelementid=\"(\\w{11})\"/;\nvar indicatorPattern = /indicatorid=\"(\\w{11})\"/;\n\nfunction clampPaletteWidth(width) {\n    return Math.min(750, Math.max(width, 250));\n}\n\n// TODO?: Automatic labels <span label-id=\"{id}-{id}\"></span> / <span label-id=\"{id}\"></span>\n\nvar styles = {\n    heading: {\n        paddingBottom: 18\n    },\n    formContainer: {},\n    formPaper: {\n        width: '100%',\n        margin: '0 auto 2rem',\n        padding: '1px 4rem 4rem',\n        position: 'relative'\n    },\n    formSection: {\n        marginTop: 28\n    },\n    cancelButton: {\n        marginLeft: '2rem'\n    },\n    deleteButton: {\n        marginLeft: '2rem'\n    },\n    paletteHeader: {},\n    paletteFilter: {\n        position: 'absolute',\n        top: -16,\n        width: '100%',\n        padding: '8px 8px 16px'\n    },\n    paletteFilterField: {\n        width: '100%'\n    },\n    greySwitch: {\n        position: 'absolute',\n        bottom: 8,\n        left: 8,\n        right: 8\n    }\n};\n\nvar EditDataEntryForm = function (_React$Component) {\n    _inherits(EditDataEntryForm, _React$Component);\n\n    function EditDataEntryForm(props, context) {\n        _classCallCheck(this, EditDataEntryForm);\n\n        var _this = _possibleConstructorReturn(this, (EditDataEntryForm.__proto__ || Object.getPrototypeOf(EditDataEntryForm)).call(this, props, context));\n\n        _this.state = {\n            usedIds: [],\n            filter: '',\n            paletteWidth: clampPaletteWidth(window.innerWidth / 3),\n            expand: 'data_elements',\n            insertGrey: false\n        };\n\n        // Load form data, operands, indicators and flags\n        Promise.all([context.d2.models.dataSets.get(props.params.modelId, {\n            fields: 'id,displayName,dataEntryForm[id,style,htmlCode],indicators[id,displayName]'\n        }),\n        // TODO: Use d2.models when dataElementOperands are properly supported\n        context.d2.Api.getApi().get('dataElementOperands', {\n            paging: false,\n            totals: true,\n            fields: 'id,displayName',\n            dataSet: props.params.modelId\n        }), context.d2.Api.getApi().get('system/flags')]).then(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 3),\n                dataSet = _ref2[0],\n                ops = _ref2[1],\n                flags = _ref2[2];\n\n            // Operands with ID's that contain a dot ('.') are combined dataElementId's and categoryOptionId's\n            // The API returns \"dataElementId.categoryOptionId\", which are transformed to the format expected by\n            // custom forms: \"dataElementId-categoryOptionId-val\"\n            _this.operands = ops.dataElementOperands.filter(function (op) {\n                return op.id.indexOf('.') !== -1;\n            }).reduce(function (out, op) {\n                var id = op.id.split('.').join('-') + '-val';\n                out[id] = op.displayName; // eslint-disable-line\n                return out;\n            }, {});\n\n            // Data element totals have only a single ID and thus no dot ('.')\n            _this.totals = ops.dataElementOperands.filter(function (op) {\n                return op.id.indexOf('.') === -1;\n            }).reduce(function (out, op) {\n                out[op.id] = op.displayName; // eslint-disable-line\n                return out;\n            }, {});\n\n            _this.indicators = dataSet.indicators.toArray().sort(function (a, b) {\n                return a.displayName.localeCompare(b.displayName);\n            }).reduce(function (out, i) {\n                out[i.id] = i.displayName; // eslint-disable-line\n                return out;\n            }, {});\n\n            _this.flags = flags.reduce(function (out, flag) {\n                out[flag.path] = flag.name; // eslint-disable-line\n                return out;\n            }, {});\n\n            // Create inserter functions for all insertable elements\n            // This avoids having to bind the functions during rendering\n            _this.insertFn = {};\n            Object.keys(_this.operands).forEach(function (x) {\n                _this.insertFn[x] = _this.insertElement.bind(_this, x);\n            });\n            Object.keys(_this.totals).forEach(function (x) {\n                _this.insertFn[x] = _this.insertElement.bind(_this, x);\n            });\n            Object.keys(_this.indicators).forEach(function (x) {\n                _this.insertFn[x] = _this.insertElement.bind(_this, x);\n            });\n            Object.keys(_this.flags).forEach(function (flag) {\n                _this.insertFn[flag] = _this.insertFlag.bind(_this, flag);\n            });\n\n            // Create element filtering action\n            _this.filterAction = __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_action_Action__[\"a\" /* default */].create('filter');\n            _this.filterAction.map(function (_ref3) {\n                var data = _ref3.data,\n                    complete = _ref3.complete,\n                    error = _ref3.error;\n                return { data: data[1], complete: complete, error: error };\n            }).debounce(75).subscribe(function (args) {\n                var filter = args.data.split(' ').filter(function (x) {\n                    return x.length;\n                });\n                _this.setState({ filter: filter });\n            });\n\n            var formHtml = dataSet.dataEntryForm ? _this.processFormData(dataSet.dataEntryForm) : '';\n\n            _this.setState({\n                formTitle: dataSet.displayName,\n                formHtml: formHtml,\n                formStyle: dataSet.dataEntryForm && dataSet.dataEntryForm.style || 'NORMAL'\n            }, function () {\n                _this._editor = window.CKEDITOR.replace('designTextarea', {\n                    plugins: ['a11yhelp', 'basicstyles', 'bidi', 'blockquote', 'clipboard', 'colorbutton', 'colordialog', 'contextmenu', 'dialogadvtab', 'div', 'elementspath', 'enterkey', 'entities', 'filebrowser', 'find', 'floatingspace', 'font', 'format', 'horizontalrule', 'htmlwriter', 'image', 'indentlist', 'indentblock', 'justify', 'link', 'list', 'liststyle', 'magicline', 'maximize', 'forms', 'pastefromword', 'pastetext', 'preview', 'removeformat', 'resize', 'selectall', 'showblocks', 'showborders', 'sourcearea', 'specialchar', 'stylescombo', 'tab', 'table', 'tabletools', 'toolbar', 'undo', 'wsc', 'wysiwygarea'].join(','),\n                    removePlugins: 'scayt,wsc,about',\n                    allowedContent: true,\n                    extraPlugins: 'div',\n                    height: 500\n                });\n                _this._editor.setData(_this.state.formHtml);\n\n                __WEBPACK_IMPORTED_MODULE_1_rx___default.a.Observable.fromEventPattern(function (x) {\n                    _this._editor.on('change', x);\n                }).debounce(250).subscribe(function () {\n                    _this.processFormData.call(_this, _this._editor.getData());\n                });\n            });\n        });\n\n        _this.getTranslation = _this.context.d2.i18n.getTranslation.bind(_this.context.d2.i18n);\n        _this.handleSaveClick = _this.handleSaveClick.bind(_this);\n        _this.handleCancelClick = _this.handleCancelClick.bind(_this);\n        _this.handleDeleteClick = _this.handleDeleteClick.bind(_this);\n        _this.handleStyleChange = _this.handleStyleChange.bind(_this);\n\n        _this.startResize = _this.startResize.bind(_this);\n        _this.doResize = _this.doResize.bind(_this);\n        _this.endResize = _this.endResize.bind(_this);\n        return _this;\n    }\n\n    _createClass(EditDataEntryForm, [{\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this._editor) {\n                this._editor.destroy();\n            }\n        }\n    }, {\n        key: 'handleSaveClick',\n        value: function handleSaveClick() {\n            var _this2 = this;\n\n            var payload = {\n                style: this.state.formStyle,\n                htmlCode: this._editor.getData()\n            };\n            this.context.d2.Api.getApi().post(['dataSets', this.props.params.modelId, 'form'].join('/'), payload).then(function () {\n                __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.info('Form saved successfully');\n                __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this2.getTranslation('form_saved') });\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__router_utils__[\"b\" /* goBack */])();\n            }).catch(function (e) {\n                __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to save form:', e);\n                __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__[\"a\" /* default */].show({\n                    message: '' + _this2.getTranslation('failed_to_save_form') + (e.message ? ': ' + e.message : ''),\n                    action: _this2.context.d2.i18n.getTranslation('ok')\n                });\n            });\n        }\n    }, {\n        key: 'handleCancelClick',\n        value: function handleCancelClick() {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__router_utils__[\"b\" /* goBack */])();\n        }\n    }, {\n        key: 'handleDeleteClick',\n        value: function handleDeleteClick() {\n            var _this3 = this;\n\n            __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__[\"a\" /* default */].show({\n                message: this.getTranslation('dataentryform_confirm_delete'),\n                action: 'confirm',\n                onActionTouchTap: function onActionTouchTap() {\n                    _this3.context.d2.Api.getApi().delete(['dataEntryForms', __WEBPACK_IMPORTED_MODULE_14__modelToEditStore__[\"a\" /* default */].state.dataEntryForm.id].join('/')).then(function () {\n                        __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('form_deleted') });\n                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__router_utils__[\"b\" /* goBack */])();\n                    }).catch(function (err) {\n                        __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error('Failed to delete form:', err);\n                        __WEBPACK_IMPORTED_MODULE_13__Snackbar_snack_actions__[\"a\" /* default */].show({ message: _this3.getTranslation('failed_to_delete_form'), action: 'ok' });\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleStyleChange',\n        value: function handleStyleChange(e, i, value) {\n            this.setState({\n                formStyle: value\n            });\n        }\n    }, {\n        key: 'startResize',\n        value: function startResize(e) {\n            this._startPos = e.clientX;\n            this._startWidth = this.state.paletteWidth;\n            window.addEventListener('mousemove', this.doResize);\n            window.addEventListener('mouseup', this.endResize);\n        }\n    }, {\n        key: 'doResize',\n        value: function doResize(e) {\n            var _this4 = this;\n\n            if (!e.buttons) {\n                // If no buttons are pressed it probably simply means we missed a mouseUp event - so stop resizing\n                this.endResize();\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var width = clampPaletteWidth(this._startWidth + (this._startPos - e.clientX));\n            window.requestAnimationFrame(function () {\n                _this4.setState({\n                    paletteWidth: width\n                });\n            });\n        }\n    }, {\n        key: 'endResize',\n        value: function endResize() {\n            window.removeEventListener('mousemove', this.doResize);\n            window.removeEventListener('mouseup', this.endResize);\n        }\n    }, {\n        key: 'generateHtml',\n        value: function generateHtml(id, styleAttr, disabledAttr) {\n            var style = styleAttr ? ' style=' + styleAttr : '';\n            var disabled = disabledAttr || this.state.insertGrey ? ' disabled=\"disabled\"' : '';\n\n            if (id.indexOf('-') !== -1) {\n                var label = this.operands && this.operands[id];\n                var attr = ('name=\"entryfield\" title=\"' + label + '\" value=\"[ ' + label + ' ]\"' + style + disabled).trim();\n                return '<input id=\"' + id + '\" ' + attr + '/>';\n            } else if (this.totals.hasOwnProperty(id)) {\n                var _label = this.totals[id];\n                var _attr = ('name=\"total\" readonly title=\"' + _label + '\" value=\"[ ' + _label + ' ]\"' + style + disabled).trim();\n                return '<input dataelementid=\"' + id + '\" id=\"total' + id + '\" name=\"total\" ' + _attr + '/>';\n            } else if (this.indicators.hasOwnProperty(id)) {\n                var _label2 = this.indicators[id];\n                var _attr2 = ('name=\"indicator\" readonly title=\"' + _label2 + '\" value=\"[ ' + _label2 + ' ]\"' + style + disabled).trim();\n                return '<input indicatorid=\"' + id + '\" id=\"indicator' + id + '\" ' + _attr2 + '/>';\n            }\n\n            __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.warn('Failed to generate HTML for ID:', id);\n            return '';\n        }\n    }, {\n        key: 'processFormData',\n        value: function processFormData(formData) {\n            var inHtml = formData.hasOwnProperty('htmlCode') ? formData.htmlCode : formData || '';\n            var outHtml = '';\n\n            var usedIds = [];\n\n            var inputElement = inputPattern.exec(inHtml);\n            var inPos = 0;\n            while (inputElement !== null) {\n                outHtml += inHtml.substr(inPos, inputElement.index - inPos);\n                inPos = inputPattern.lastIndex;\n\n                var inputHtml = inputElement[0];\n                var inputStyle = (/style=\"(.*?)\"/.exec(inputHtml) || ['', ''])[1];\n                var inputDisabled = /disabled/.exec(inputHtml) !== null;\n\n                var idMatch = dataElementCategoryOptionIdPattern.exec(inputHtml);\n                var dataElementTotalMatch = dataElementPattern.exec(inputHtml);\n                var indicatorMatch = indicatorPattern.exec(inputHtml);\n\n                if (idMatch) {\n                    var id = idMatch[1] + '-' + idMatch[2] + '-val';\n                    usedIds.push(id);\n                    outHtml += this.generateHtml(id, inputStyle, inputDisabled);\n                } else if (dataElementTotalMatch) {\n                    var _id = dataElementTotalMatch[1];\n                    usedIds.push(_id);\n                    outHtml += this.generateHtml(_id, inputStyle, inputDisabled);\n                } else if (indicatorMatch) {\n                    var _id2 = indicatorMatch[1];\n                    usedIds.push(_id2);\n                    outHtml += this.generateHtml(_id2, inputStyle, inputDisabled);\n                } else {\n                    outHtml += inputHtml;\n                }\n\n                inputElement = inputPattern.exec(inHtml);\n            }\n            outHtml += inHtml.substr(inPos);\n\n            this.setState({ usedIds: usedIds });\n\n            return outHtml;\n        }\n    }, {\n        key: 'insertElement',\n        value: function insertElement(id) {\n            if (this.state.usedIds.indexOf(id) !== -1) {\n                return;\n            }\n\n            this._editor.insertHtml(this.generateHtml(id), 'unfiltered_html');\n            this.setState(function (state) {\n                return { usedIds: state.usedIds.concat(id) };\n            });\n            // Move the current selection to just after the newly inserted element\n            var range = this._editor.getSelection().getRanges()[0];\n            range.moveToElementEditablePosition(range.endContainer, true);\n        }\n    }, {\n        key: 'insertFlag',\n        value: function insertFlag(img) {\n            this._editor.insertHtml('<img src=\"../dhis-web-commons/flags/' + img + '\" />', 'unfiltered_html');\n            var range = this._editor.getSelection().getRanges()[0];\n            range.moveToElementEditablePosition(range.endContainer, true);\n        }\n    }, {\n        key: 'renderPaletteSection',\n        value: function renderPaletteSection(keySet, label) {\n            var _this5 = this;\n\n            var filteredItems = Object.keys(keySet).filter(function (key) {\n                return !_this5.state.filter.length || _this5.state.filter.every(function (filter) {\n                    return keySet[key].toLowerCase().indexOf(filter.toLowerCase()) !== -1;\n                });\n            });\n\n            var cellClass = label === this.state.expand ? 'cell expanded' : 'cell';\n\n            var expandClick = function expandClick() {\n                _this5.setState({ expand: label });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: cellClass },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.paletteHeader, className: 'header', onClick: expandClick },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { className: 'arrow' },\n                        '\\u25B8'\n                    ),\n                    this.getTranslation(label),\n                    ':',\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { className: 'count' },\n                        filteredItems.length\n                    )\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { className: 'items' },\n                    filteredItems.map(function (key) {\n                        // Active items are items that are not already added to the form\n                        var isActive = _this5.state.usedIds.indexOf(key) === -1;\n                        var className = isActive ? 'item active' : 'item inactive';\n                        var name = keySet[key].name || keySet[key];\n                        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            'div',\n                            { key: key, className: className, title: name },\n                            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                'a',\n                                { onClick: _this5.insertFn[key] },\n                                name\n                            )\n                        );\n                    })\n                )\n            );\n        }\n    }, {\n        key: 'renderPalette',\n        value: function renderPalette() {\n            var _this6 = this;\n\n            var toggleGrey = function toggleGrey(e, value) {\n                _this6.setState({ insertGrey: value });\n            };\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'paletteContainer', style: { width: this.state.paletteWidth } },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div', { className: 'resizeHandle', onMouseDown: this.startResize }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { className: 'palette' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.paletteFilter },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_TextField_TextField___default.a, {\n                            floatingLabelText: this.getTranslation('filter_elements'),\n                            style: styles.paletteFilterField,\n                            onChange: this.filterAction\n                        })\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { className: 'elements' },\n                        this.renderPaletteSection(this.operands, 'data_elements'),\n                        this.renderPaletteSection(this.totals, 'totals'),\n                        this.renderPaletteSection(this.indicators, 'indicators'),\n                        this.renderPaletteSection(this.flags, 'flags')\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9_material_ui_Checkbox_Checkbox___default.a, {\n                        label: this.getTranslation('insert_grey_fields'),\n                        labelPosition: 'right',\n                        style: styles.greySwitch,\n                        onCheck: toggleGrey,\n                        checked: this.state.insertGrey\n                    })\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return this.state.formHtml === undefined ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_10_d2_ui_lib_loading_mask_LoadingMask_component__[\"a\" /* default */], null) : __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: Object.assign({}, styles.formContainer, { marginRight: this.state.paletteWidth }) },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_11_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n                    { style: styles.heading },\n                    this.state.formTitle,\n                    ' ',\n                    this.getTranslation('data_entry_form')\n                ),\n                this.renderPalette(),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('textarea', { id: 'designTextarea', name: 'designTextarea' }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_7_material_ui_Paper_Paper___default.a,\n                    { style: styles.formPaper },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.formSection },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                            __WEBPACK_IMPORTED_MODULE_5_material_ui_SelectField_SelectField___default.a,\n                            {\n                                value: this.state.formStyle,\n                                floatingLabelText: 'Form display style',\n                                onChange: this.handleStyleChange\n                            },\n                            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default.a, { value: 'NORMAL', primaryText: this.getTranslation('normal') }),\n                            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default.a, { value: 'COMFORTABLE', primaryText: this.getTranslation('comfortable') }),\n                            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default.a, { value: 'COMPACT', primaryText: this.getTranslation('compact') }),\n                            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_material_ui_MenuItem_MenuItem___default.a, { value: 'NONE', primaryText: this.getTranslation('none') })\n                        )\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.formSection },\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_RaisedButton_RaisedButton___default.a, { label: this.getTranslation('save'), primary: true, onClick: this.handleSaveClick }),\n                        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton___default.a, {\n                            label: this.getTranslation('cancel'),\n                            style: styles.cancelButton,\n                            onClick: this.handleCancelClick\n                        }),\n                        __WEBPACK_IMPORTED_MODULE_14__modelToEditStore__[\"a\" /* default */].state.dataEntryForm && __WEBPACK_IMPORTED_MODULE_14__modelToEditStore__[\"a\" /* default */].state.dataEntryForm.id ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_FlatButton_FlatButton___default.a, {\n                            primary: true,\n                            label: this.getTranslation('delete'),\n                            style: styles.deleteButton,\n                            onClick: this.handleDeleteClick\n                        }) : undefined\n                    )\n                )\n            );\n        }\n    }]);\n\n    return EditDataEntryForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\nEditDataEntryForm.propTypes = {\n    params: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n};\nEditDataEntryForm.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = EditDataEntryForm;\n\n/***/ }),\n\n/***/ 586:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\nHeading.propTypes = {\n    level: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].oneOf([1, 2, 3, 4, 5, 6]),\n    text: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string\n};\nHeading.defaultProps = {\n    level: 1\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Heading;\n\n/***/ }),\n\n/***/ 745:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__ = __webpack_require__(226);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'LoadingMask.component',\n\n    propTypes: {\n        style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n        size: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            style: {},\n            size: 1.5\n        };\n    },\n    render: function render() {\n        var loadingStatusMask = {\n            left: '45%',\n            position: 'fixed',\n            top: '45%'\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default.a, {\n            mode: 'indeterminate',\n            size: this.props.size,\n            style: Object.assign(loadingStatusMask, this.props.style)\n        });\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 8-6f8a229cea364b1d8604.js","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".paletteContainer {\\n  position: fixed;\\n  right: 16px;\\n  top: 112px;\\n  bottom: 16px; }\\n  .paletteContainer:hover .resizeHandle:after {\\n    border-color: rgba(0, 0, 0, 0.12); }\\n  .paletteContainer .resizeHandle {\\n    position: absolute;\\n    top: -20px;\\n    right: 0;\\n    bottom: -16px;\\n    left: -8px;\\n    width: 12px;\\n    cursor: col-resize; }\\n    .paletteContainer .resizeHandle:after {\\n      content: \\\"\\\";\\n      display: block;\\n      position: absolute;\\n      bottom: 0;\\n      top: 0;\\n      border: 0 dashed transparent;\\n      border-left-width: 1px;\\n      margin-left: 5px;\\n      transition: border 125ms linear; }\\n    .paletteContainer .resizeHandle:hover:after {\\n      border-color: rgba(0, 0, 0, 0.45); }\\n  .paletteContainer .palette {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 8px;\\n    background: white;\\n    border-radius: 5px;\\n    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.12); }\\n    .paletteContainer .palette .elements {\\n      position: absolute;\\n      top: 48px;\\n      bottom: 32px;\\n      left: 0;\\n      right: 0;\\n      margin: 8px;\\n      font-size: 13px;\\n      font-weight: 300;\\n      display: flex;\\n      flex-direction: column;\\n      overflow-x: auto; }\\n      .paletteContainer .palette .elements .cell {\\n        position: relative;\\n        flex: 1 1;\\n        transition: all 175ms ease-in-out; }\\n        .paletteContainer .palette .elements .cell.expanded {\\n          flex: 35; }\\n          .paletteContainer .palette .elements .cell.expanded .header .arrow {\\n            transform: rotate(90deg); }\\n        .paletteContainer .palette .elements .cell .header {\\n          font-weight: 700;\\n          font-size: 16px;\\n          padding-top: 8px;\\n          cursor: pointer; }\\n          .paletteContainer .palette .elements .cell .header .arrow {\\n            display: inline-block;\\n            margin: 0 2px;\\n            transition: transform 175ms ease-out; }\\n          .paletteContainer .palette .elements .cell .header .count {\\n            display: inline-block;\\n            font-weight: 400;\\n            font-size: 14px;\\n            margin-left: 4px; }\\n        .paletteContainer .palette .elements .cell .items {\\n          position: absolute;\\n          padding-left: 16px;\\n          top: 32px;\\n          bottom: 0;\\n          left: 0;\\n          right: 0;\\n          overflow: auto; }\\n          .paletteContainer .palette .elements .cell .items .item {\\n            width: 100%;\\n            padding-bottom: 1px;\\n            white-space: nowrap;\\n            overflow: hidden;\\n            text-overflow: ellipsis; }\\n\\n.item.active a, .expand a {\\n  cursor: pointer; }\\n  .item.active a:hover, .expand a:hover {\\n    text-decoration: underline; }\\n\\n.item.inactive a {\\n  color: inherit;\\n  opacity: 0.5;\\n  cursor: default; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./scss/EditModel/EditDataEntryForm.scss\n// module id = 1018\n// module chunks = 8","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./EditDataEntryForm.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./EditDataEntryForm.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./EditDataEntryForm.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/EditModel/EditDataEntryForm.scss\n// module id = 1231\n// module chunks = 8","import React from 'react';\nimport Rx from 'rx';\nimport log from 'loglevel';\n\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton/FlatButton';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport Paper from 'material-ui/Paper/Paper';\nimport TextField from 'material-ui/TextField/TextField';\nimport CheckBox from 'material-ui/Checkbox/Checkbox';\n\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport Action from 'd2-ui/lib/action/Action';\n\nimport snackActions from '../Snackbar/snack.actions';\nimport modelToEditStore from './modelToEditStore';\nimport { goBack } from '../router-utils';\n\nimport '../../scss/EditModel/EditDataEntryForm.scss';\n\n\nconst inputPattern = /<input.*?\\/>/gi;\nconst dataElementCategoryOptionIdPattern = /id=\"(\\w*?)-(\\w*?)-val\"/;\nconst dataElementPattern = /dataelementid=\"(\\w{11})\"/;\nconst indicatorPattern = /indicatorid=\"(\\w{11})\"/;\n\nfunction clampPaletteWidth(width) {\n    return Math.min(750, Math.max(width, 250));\n}\n\n\n// TODO?: Automatic labels <span label-id=\"{id}-{id}\"></span> / <span label-id=\"{id}\"></span>\n\nconst styles = {\n    heading: {\n        paddingBottom: 18,\n    },\n    formContainer: {},\n    formPaper: {\n        width: '100%',\n        margin: '0 auto 2rem',\n        padding: '1px 4rem 4rem',\n        position: 'relative',\n    },\n    formSection: {\n        marginTop: 28,\n    },\n    cancelButton: {\n        marginLeft: '2rem',\n    },\n    deleteButton: {\n        marginLeft: '2rem',\n    },\n    paletteHeader: {},\n    paletteFilter: {\n        position: 'absolute',\n        top: -16,\n        width: '100%',\n        padding: '8px 8px 16px',\n    },\n    paletteFilterField: {\n        width: '100%',\n    },\n    greySwitch: {\n        position: 'absolute',\n        bottom: 8,\n        left: 8,\n        right: 8,\n    },\n};\n\nclass EditDataEntryForm extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            usedIds: [],\n            filter: '',\n            paletteWidth: clampPaletteWidth(window.innerWidth / 3),\n            expand: 'data_elements',\n            insertGrey: false,\n        };\n\n        // Load form data, operands, indicators and flags\n        Promise.all([\n            context.d2.models.dataSets.get(props.params.modelId, {\n                fields: 'id,displayName,dataEntryForm[id,style,htmlCode],indicators[id,displayName]',\n            }),\n            // TODO: Use d2.models when dataElementOperands are properly supported\n            context.d2.Api.getApi().get('dataElementOperands', {\n                paging: false,\n                totals: true,\n                fields: 'id,displayName',\n                dataSet: props.params.modelId,\n            }),\n            context.d2.Api.getApi().get('system/flags'),\n        ]).then(([\n            dataSet,\n            ops,\n            flags,\n        ]) => {\n            // Operands with ID's that contain a dot ('.') are combined dataElementId's and categoryOptionId's\n            // The API returns \"dataElementId.categoryOptionId\", which are transformed to the format expected by\n            // custom forms: \"dataElementId-categoryOptionId-val\"\n            this.operands = ops.dataElementOperands\n                .filter(op => op.id.indexOf('.') !== -1)\n                .reduce((out, op) => {\n                    const id = `${op.id.split('.').join('-')}-val`;\n                    out[id] = op.displayName; // eslint-disable-line\n                    return out;\n                }, {});\n\n            // Data element totals have only a single ID and thus no dot ('.')\n            this.totals = ops.dataElementOperands\n                .filter(op => op.id.indexOf('.') === -1)\n                .reduce((out, op) => {\n                    out[op.id] = op.displayName; // eslint-disable-line\n                    return out;\n                }, {});\n\n            this.indicators = dataSet.indicators.toArray()\n                .sort((a, b) => a.displayName.localeCompare(b.displayName))\n                .reduce((out, i) => {\n                    out[i.id] = i.displayName; // eslint-disable-line\n                    return out;\n                }, {});\n\n            this.flags = flags.reduce((out, flag) => {\n                out[flag.path] = flag.name; // eslint-disable-line\n                return out;\n            }, {});\n\n            // Create inserter functions for all insertable elements\n            // This avoids having to bind the functions during rendering\n            this.insertFn = {};\n            Object.keys(this.operands).forEach(x => {\n                this.insertFn[x] = this.insertElement.bind(this, x);\n            });\n            Object.keys(this.totals).forEach(x => {\n                this.insertFn[x] = this.insertElement.bind(this, x);\n            });\n            Object.keys(this.indicators).forEach(x => {\n                this.insertFn[x] = this.insertElement.bind(this, x);\n            });\n            Object.keys(this.flags).forEach(flag => {\n                this.insertFn[flag] = this.insertFlag.bind(this, flag);\n            });\n\n            // Create element filtering action\n            this.filterAction = Action.create('filter');\n            this.filterAction\n                .map(({ data, complete, error }) => ({ data: data[1], complete, error }))\n                .debounce(75)\n                .subscribe(args => {\n                    const filter = args.data\n                        .split(' ')\n                        .filter(x => x.length);\n                    this.setState({ filter });\n                });\n\n            const formHtml = dataSet.dataEntryForm ? this.processFormData(dataSet.dataEntryForm) : '';\n\n            this.setState({\n                formTitle: dataSet.displayName,\n                formHtml,\n                formStyle: dataSet.dataEntryForm && dataSet.dataEntryForm.style || 'NORMAL',\n            }, () => {\n                this._editor = window.CKEDITOR.replace('designTextarea', {\n                    plugins: [\n                        'a11yhelp', 'basicstyles', 'bidi', 'blockquote',\n                        'clipboard', 'colorbutton', 'colordialog', 'contextmenu',\n                        'dialogadvtab', 'div', 'elementspath', 'enterkey',\n                        'entities', 'filebrowser', 'find', 'floatingspace',\n                        'font', 'format', 'horizontalrule', 'htmlwriter',\n                        'image', 'indentlist', 'indentblock', 'justify',\n                        'link', 'list', 'liststyle', 'magicline',\n                        'maximize', 'forms', 'pastefromword', 'pastetext',\n                        'preview', 'removeformat', 'resize', 'selectall',\n                        'showblocks', 'showborders', 'sourcearea', 'specialchar',\n                        'stylescombo', 'tab', 'table', 'tabletools',\n                        'toolbar', 'undo', 'wsc', 'wysiwygarea',\n                    ].join(','),\n                    removePlugins: 'scayt,wsc,about',\n                    allowedContent: true,\n                    extraPlugins: 'div',\n                    height: 500,\n                });\n                this._editor.setData(this.state.formHtml);\n\n                Rx.Observable.fromEventPattern((x) => {\n                    this._editor.on('change', x);\n                })\n                    .debounce(250)\n                    .subscribe(() => {\n                        this.processFormData.call(this, this._editor.getData());\n                    });\n            });\n        });\n\n        this.getTranslation = this.context.d2.i18n.getTranslation.bind(this.context.d2.i18n);\n        this.handleSaveClick = this.handleSaveClick.bind(this);\n        this.handleCancelClick = this.handleCancelClick.bind(this);\n        this.handleDeleteClick = this.handleDeleteClick.bind(this);\n        this.handleStyleChange = this.handleStyleChange.bind(this);\n\n        this.startResize = this.startResize.bind(this);\n        this.doResize = this.doResize.bind(this);\n        this.endResize = this.endResize.bind(this);\n    }\n\n    componentWillUnmount() {\n        if (this._editor) {\n            this._editor.destroy();\n        }\n    }\n\n    handleSaveClick() {\n        const payload = {\n            style: this.state.formStyle,\n            htmlCode: this._editor.getData(),\n        };\n        this.context.d2.Api.getApi().post(['dataSets', this.props.params.modelId, 'form'].join('/'), payload)\n            .then(() => {\n                log.info('Form saved successfully');\n                snackActions.show({ message: this.getTranslation('form_saved') });\n                goBack();\n            })\n            .catch(e => {\n                log.warn('Failed to save form:', e);\n                snackActions.show({\n                    message: `${this.getTranslation('failed_to_save_form')}${e.message ? ': ' + e.message : ''}`,\n                    action: this.context.d2.i18n.getTranslation('ok'),\n                });\n            });\n    }\n\n    handleCancelClick() {\n        goBack();\n    }\n\n    handleDeleteClick() {\n        snackActions.show({\n            message: this.getTranslation('dataentryform_confirm_delete'),\n            action: 'confirm',\n            onActionTouchTap: () => {\n                this.context.d2.Api.getApi()\n                    .delete(['dataEntryForms', modelToEditStore.state.dataEntryForm.id].join('/'))\n                    .then(() => {\n                        snackActions.show({ message: this.getTranslation('form_deleted') });\n                        goBack();\n                    })\n                    .catch(err => {\n                        log.error('Failed to delete form:', err);\n                        snackActions.show({ message: this.getTranslation('failed_to_delete_form'), action: 'ok' });\n                    });\n            },\n        });\n    }\n\n    handleStyleChange(e, i, value) {\n        this.setState({\n            formStyle: value,\n        });\n    }\n\n    startResize(e) {\n        this._startPos = e.clientX;\n        this._startWidth = this.state.paletteWidth;\n        window.addEventListener('mousemove', this.doResize);\n        window.addEventListener('mouseup', this.endResize);\n    }\n\n    doResize(e) {\n        if (!e.buttons) {\n            // If no buttons are pressed it probably simply means we missed a mouseUp event - so stop resizing\n            this.endResize();\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        const width = clampPaletteWidth(this._startWidth + (this._startPos - e.clientX));\n        window.requestAnimationFrame(() => {\n            this.setState({\n                paletteWidth: width,\n            });\n        });\n    }\n\n    endResize() {\n        window.removeEventListener('mousemove', this.doResize);\n        window.removeEventListener('mouseup', this.endResize);\n    }\n\n    generateHtml(id, styleAttr, disabledAttr) {\n        const style = styleAttr ? ` style=${styleAttr}` : '';\n        const disabled = disabledAttr || this.state.insertGrey ? ' disabled=\"disabled\"' : '';\n\n        if (id.indexOf('-') !== -1) {\n            const label = this.operands && this.operands[id];\n            const attr = `name=\"entryfield\" title=\"${label}\" value=\"[ ${label} ]\"${style}${disabled}`.trim();\n            return `<input id=\"${id}\" ${attr}/>`;\n        } else if (this.totals.hasOwnProperty(id)) {\n            const label = this.totals[id];\n            const attr = `name=\"total\" readonly title=\"${label}\" value=\"[ ${label} ]\"${style}${disabled}`.trim();\n            return `<input dataelementid=\"${id}\" id=\"total${id}\" name=\"total\" ${attr}/>`;\n        } else if (this.indicators.hasOwnProperty(id)) {\n            const label = this.indicators[id];\n            const attr = `name=\"indicator\" readonly title=\"${label}\" value=\"[ ${label} ]\"${style}${disabled}`.trim();\n            return `<input indicatorid=\"${id}\" id=\"indicator${id}\" ${attr}/>`;\n        }\n\n        log.warn('Failed to generate HTML for ID:', id);\n        return '';\n    }\n\n    processFormData(formData) {\n        const inHtml = formData.hasOwnProperty('htmlCode') ? formData.htmlCode : formData || '';\n        let outHtml = '';\n\n        const usedIds = [];\n\n        let inputElement = inputPattern.exec(inHtml);\n        let inPos = 0;\n        while (inputElement !== null) {\n            outHtml += inHtml.substr(inPos, inputElement.index - inPos);\n            inPos = inputPattern.lastIndex;\n\n            const inputHtml = inputElement[0];\n            const inputStyle = (/style=\"(.*?)\"/.exec(inputHtml) || ['', ''])[1];\n            const inputDisabled = /disabled/.exec(inputHtml) !== null;\n\n            const idMatch = dataElementCategoryOptionIdPattern.exec(inputHtml);\n            const dataElementTotalMatch = dataElementPattern.exec(inputHtml);\n            const indicatorMatch = indicatorPattern.exec(inputHtml);\n\n            if (idMatch) {\n                const id = `${idMatch[1]}-${idMatch[2]}-val`;\n                usedIds.push(id);\n                outHtml += this.generateHtml(id, inputStyle, inputDisabled);\n            } else if (dataElementTotalMatch) {\n                const id = dataElementTotalMatch[1];\n                usedIds.push(id);\n                outHtml += this.generateHtml(id, inputStyle, inputDisabled);\n            } else if (indicatorMatch) {\n                const id = indicatorMatch[1];\n                usedIds.push(id);\n                outHtml += this.generateHtml(id, inputStyle, inputDisabled);\n            } else {\n                outHtml += inputHtml;\n            }\n\n            inputElement = inputPattern.exec(inHtml);\n        }\n        outHtml += inHtml.substr(inPos);\n\n        this.setState({ usedIds });\n\n        return outHtml;\n    }\n\n    insertElement(id) {\n        if (this.state.usedIds.indexOf(id) !== -1) {\n            return;\n        }\n\n        this._editor.insertHtml(this.generateHtml(id), 'unfiltered_html');\n        this.setState(state => ({ usedIds: state.usedIds.concat(id) }));\n        // Move the current selection to just after the newly inserted element\n        const range = this._editor.getSelection().getRanges()[0];\n        range.moveToElementEditablePosition(range.endContainer, true);\n    }\n\n    insertFlag(img) {\n        this._editor.insertHtml(`<img src=\"../dhis-web-commons/flags/${img}\" />`, 'unfiltered_html');\n        const range = this._editor.getSelection().getRanges()[0];\n        range.moveToElementEditablePosition(range.endContainer, true);\n    }\n\n    renderPaletteSection(keySet, label) {\n        const filteredItems = Object.keys(keySet)\n            .filter(key => !this.state.filter.length || this.state.filter.every(\n                filter => keySet[key].toLowerCase().indexOf(filter.toLowerCase()) !== -1\n            ));\n\n        const cellClass = label === this.state.expand ? 'cell expanded' : 'cell';\n\n\n        const expandClick = () => {\n            this.setState({ expand: label });\n        };\n\n        return (\n            <div className={cellClass}>\n                <div style={styles.paletteHeader} className=\"header\" onClick={expandClick}>\n                    <div className=\"arrow\">&#9656;</div>\n                    {this.getTranslation(label)}:\n                    <div className=\"count\">{filteredItems.length}</div>\n                </div>\n                <div className=\"items\">\n                    {\n                        filteredItems\n                            .map(key => {\n                                // Active items are items that are not already added to the form\n                                const isActive = this.state.usedIds.indexOf(key) === -1;\n                                const className = isActive ? 'item active' : 'item inactive';\n                                const name = keySet[key].name || keySet[key];\n                                return (\n                                    <div key={key} className={className} title={name}>\n                                        <a onClick={this.insertFn[key]}>{name}</a>\n                                    </div>\n                                );\n                            })\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    renderPalette() {\n        const toggleGrey = (e, value) => {\n            this.setState({ insertGrey: value });\n        };\n\n        return (\n            <div className=\"paletteContainer\" style={{ width: this.state.paletteWidth }}>\n                <div className=\"resizeHandle\" onMouseDown={this.startResize}></div>\n                <div className=\"palette\">\n                    <div style={styles.paletteFilter}>\n                        <TextField\n                            floatingLabelText={this.getTranslation('filter_elements')}\n                            style={styles.paletteFilterField}\n                            onChange={this.filterAction}\n                        />\n                    </div>\n                    <div className=\"elements\">\n                        {this.renderPaletteSection(this.operands, 'data_elements')}\n                        {this.renderPaletteSection(this.totals, 'totals')}\n                        {this.renderPaletteSection(this.indicators, 'indicators')}\n                        {this.renderPaletteSection(this.flags, 'flags')}\n                    </div>\n                    <CheckBox\n                        label={this.getTranslation('insert_grey_fields')}\n                        labelPosition=\"right\"\n                        style={styles.greySwitch}\n                        onCheck={toggleGrey}\n                        checked={this.state.insertGrey}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return this.state.formHtml === undefined ? <LoadingMask /> : (\n            <div style={Object.assign({}, styles.formContainer, { marginRight: this.state.paletteWidth })}>\n                <Heading style={styles.heading}>\n                    {this.state.formTitle} {this.getTranslation('data_entry_form')}\n                </Heading>\n                {this.renderPalette()}\n                <textarea id=\"designTextarea\" name=\"designTextarea\"/>\n                <Paper style={styles.formPaper}>\n                    <div style={styles.formSection}>\n                        <SelectField\n                            value={this.state.formStyle}\n                            floatingLabelText=\"Form display style\"\n                            onChange={this.handleStyleChange}\n                        >\n                            <MenuItem value={'NORMAL'} primaryText={this.getTranslation('normal')}/>\n                            <MenuItem value={'COMFORTABLE'} primaryText={this.getTranslation('comfortable')}/>\n                            <MenuItem value={'COMPACT'} primaryText={this.getTranslation('compact')}/>\n                            <MenuItem value={'NONE'} primaryText={this.getTranslation('none')}/>\n                        </SelectField>\n                    </div>\n                    <div style={styles.formSection}>\n                        <RaisedButton label={this.getTranslation('save')} primary onClick={this.handleSaveClick}/>\n                        <FlatButton\n                            label={this.getTranslation('cancel')}\n                            style={styles.cancelButton}\n                            onClick={this.handleCancelClick}\n                        />\n                        {modelToEditStore.state.dataEntryForm && modelToEditStore.state.dataEntryForm.id ? (\n                            <FlatButton\n                                primary\n                                label={this.getTranslation('delete')}\n                                style={styles.deleteButton}\n                                onClick={this.handleDeleteClick}\n                            />\n                        ) : undefined}\n                    </div>\n                </Paper>\n            </div>\n        );\n    }\n}\nEditDataEntryForm.propTypes = {\n    params: React.PropTypes.object.isRequired,\n};\nEditDataEntryForm.contextTypes = {\n    d2: React.PropTypes.any,\n};\n\nexport default EditDataEntryForm;\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/EditDataEntryForm.component.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport { PropTypes, default as React } from 'react';\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return React.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\nHeading.propTypes = {\n    level: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n    text: PropTypes.string\n};\nHeading.defaultProps = {\n    level: 1\n};\n\nexport default Heading;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/headings/Heading.component.js\n// module id = 586\n// module chunks = 0 1 2 3 4 5 7 8 10","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nexport default React.createClass({\n    displayName: 'LoadingMask.component',\n\n    propTypes: {\n        style: React.PropTypes.object,\n        size: React.PropTypes.number\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            style: {},\n            size: 1.5\n        };\n    },\n    render: function render() {\n        var loadingStatusMask = {\n            left: '45%',\n            position: 'fixed',\n            top: '45%'\n        };\n\n        return React.createElement(CircularProgress, {\n            mode: 'indeterminate',\n            size: this.props.size,\n            style: Object.assign(loadingStatusMask, this.props.style)\n        });\n    }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/loading-mask/LoadingMask.component.js\n// module id = 745\n// module chunks = 2 3 4 8"],"sourceRoot":""}