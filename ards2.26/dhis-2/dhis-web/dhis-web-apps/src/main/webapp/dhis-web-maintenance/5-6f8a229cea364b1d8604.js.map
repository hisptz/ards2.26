{"version":3,"sources":["webpack:///5-6f8a229cea364b1d8604.js","webpack:///./src/OrganisationUnitLevels/organisationUnitLevels.actions.js","webpack:///./src/OrganisationUnitLevels/OrganisationUnitLevels.component.js","webpack:///./~/d2-ui/lib/i18n/Translate.mixin.js?9c04****","webpack:///./~/d2-ui/lib/headings/Heading.component.js?d681****","webpack:///./src/config/field-config/field-order.js?3706***","webpack:///./~/d2-ui/lib/i18n/LocaleSelector.component.js?7c14***","webpack:///./~/d2-ui/lib/i18n/TranslationDialog.component.js?7850***","webpack:///./~/d2-ui/lib/i18n/TranslationForm.component.js?f3ce***","webpack:///./~/d2-ui/lib/i18n/translationForm.actions.js?cdfe***","webpack:///./~/d2-ui/lib/forms/FormBuilder.component.js?10ba*","webpack:///./src/EditModel/FormButtons.component.js?e889*","webpack:///./src/EditModel/SaveButton.component.js?57d6*","webpack:///./~/d2-ui/lib/forms/AsyncValidatorRunner.js?a9de*","webpack:///./src/App/AccessDenied.component.js","webpack:///./src/OrganisationUnitLevels/organisationUnitLevels.store.js"],"names":["webpackJsonp","1017","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_objectWithoutProperties","obj","keys","target","i","indexOf","Object","prototype","hasOwnProperty","call","DropDownFieldForOfflineLevels","props","options","otherProps","availableOptions","undefined","text","label","concat","map","option","index","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default","primaryText","__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default","_extends","onChange","event","isNameUnique","name","__WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__","state","fieldsForOrganisationUnitLevel","fieldConfigs","filter","fieldConfig","some","every","result","getFieldConfigsForAllFields","organisationUnitLevels","organisationUnitLevelFormFields","ouLevel","assign","organisationUnitLevel","buildFormStatus","_ref3","data","getState","formStatus","status","levelIndex","valid","saveOrganisationUnitLevels","action","complete","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","d2","Api","getApi","api","post","dataType","catch","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__","__WEBPACK_IMPORTED_MODULE_2_rx__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__","__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default","length","source","loadOrganisationUnitLevels","_ref","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","sent","get","abrupt","stop","getOrganisationUnitLevelFormFields","_ref2","_callee2","_context2","fieldForOrganisationUnitLevels","fieldName","fieldOption","fieldOptions","component","floatingLabelText","i18n","getTranslation","validators","validator","message","for","actions","createActionsFromNames","propTypes","array","Map","organisationUnitLevelFormFields$","fromPromise","updateFormStatus","subscribe","formStatusForAllLevels","setState","initOrgUnitLevels","flatMap","combineLatest","_ref4","fieldConfigsForAllLevels","_ref5","isSaving","isLoading","fieldUpdate","_ref6","storeState","_ref7","fieldValue","organisationUnitToChangeValueFor","find","_ref8","level","offlineLevels","do","callback","583","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__","__WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__","show","OrganisationUnitLevels","context","canEdit","currentUser","canUpdate","models","__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default","styles","paperWrap","padding","maxWidth","marginTop","rowStyle","display","flexDirection","height","formWrapStyle","flex","fieldWrapStyle","paddingRight","translateButtonWrap","alignItems","verticalAlign","fieldRows","fieldsForLevel","translateButton","id","style","__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default","iconClassName","onClick","onTranslateClick","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__","fields","disabled","onUpdateField","onUpdateFormStatus","__WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__","__WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__","isValid","v","defineProperty","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__","__WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__","__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__","__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__","__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__","_createClass","defineProperties","descriptor","protoProps","staticProps","defaultProps","bool","componentState$","OrganisationUnitLevelsWithState","addD2Context","_class","_len","args","Array","_key","_this","getPrototypeOf","translation","open","_onTranslateClick","bind","_closeTranslationDialog","_translationSaved","_translationErrored","_React$Component","model","objectToTranslate","objectTypeToTranslate","modelDefinition","onTranslationSaved","onTranslationError","onRequestClose","fieldsToTranslate","Component","585","Translate","contextTypes","PropTypes","object","isRequired","586","Heading","children","other","tag","type","headingStyle","fontSize","fontWeight","color","margin","oneOf","string","708","fieldOrderByName","schemaName","has","723","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default","__WEBPACK_IMPORTED_MODULE_3__i18n_Translate_mixin__","createClass","displayName","locales","arrayOf","shape","locale","func","mixins","render","localeMenuItems","payload","fullWidth","hintText","_localeChange","724","__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default","__WEBPACK_IMPORTED_MODULE_2_react__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_3__TranslationForm_component__","strings","add","TranslationDialog","_Component","TranslationForm","translationSaved","translationError","closeSharingDialog","title","autoDetectWindowHeight","autoScrollBodyContent","onCancel","newProps","725","getTranslationFormData","translationStore","__WEBPACK_IMPORTED_MODULE_10__store_Store__","__WEBPACK_IMPORTED_MODULE_5__translationForm_actions__","translations","__WEBPACK_IMPORTED_MODULE_9_rx__","setTranslations","getTranslationFormFor","__WEBPACK_IMPORTED_MODULE_7__component_helpers_withStateFrom__","__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__","__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_4__i18n_LocaleSelector_component__","__WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton___default","getInitialState","loading","translationValues","currentSelectedLocale","getDefaultProps","getLoadingdataElement","textAlign","mode","renderFieldsToTranslate","getTranslationValueFor","_setValue","renderForm","primary","_saveTranslations","marginLeft","renderHelpText","minHeight","setCurrentLocale","Boolean","_this2","t","property","toLowerCase","_this3","newTranslations","toUpperCase","push","726","getLocales","localePromise","__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__","getModelHref","href","apiEndpoint","getTranslationsForModel","just","Error","__WEBPACK_IMPORTED_MODULE_0__action_Action__","d","saveTranslations","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","isArray","_ref$data","translationHref","update","741","_defineProperty","__WEBPACK_IMPORTED_MODULE_1__AsyncValidatorRunner__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress__","__WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress___default","noop","FormBuilder","initState","asyncValidators","createAsyncValidators","asyncValidationRunner","getFieldProp","getStateClone","clonedState","field","forEach","validateField","form","pristine","validating","reduce","p","c","_this4","position","progress","validatingProgressStyle","validatingErrorStyle","errorTextProp","fieldState","changeHandler","handleFieldChange","onBlurChangeHandler","changeEvent","e","stateClone","updateFieldState","errorText","validatingLabelText","size","onBlur","errorStyle","renderFields","_this5","currentFieldState","_this6","currentField","dispose","fieldProp","fieldNames","current","_this7","newValue","cancelAsyncValidators","validatorResult","runAsyncValidators","_this8","listenToValidatorsFor","run","pass","currentValidator","f","any","right","top","777","FormButtons","defaultStyle","buttonStyle","marginRight","width","buttonsToRender","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default","child","cloneElement","__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__","oneOfType","isFormValid","778","SaveButton","rest","buttonText","__WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__","795","runValidatorFunctions","validatorFunctions","all","errorMessage","__WEBPACK_IMPORTED_MODULE_0_rx__","AsyncValidatorRunner","scheduler","validatorPipeline","debounceTimeInMs","onNext","debounce","concatAll","825","AccessDenied","__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__","937","__WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__"],"mappings":"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AC,KAAAsE,EAAAvF,KAAyDW,EAAAX,GAAAuF,EAAAvF,IAAiC,MAAAW,GA4B/O0P,GAAA9I,WACAyB,MAAArE,EAAA,UAAAoM,OAAA,cACAvP,KAAAmD,EAAA,UAAAqM,QAEAX,EAAApC,cACAjF,MAAA,GAGA5J,EAAA,EAAAiR,GJykBMY,IACA,SAAU9R,EAAQC,EAAqBC,GAE7C,YKhnBA,IAAM6R,GAAmB,GAAIzJ,OACxB,eACG,OACA,YACA,OACA,cACA,WACA,aACA,YACA,kBACA,oBACA,MACA,gBACA,YACA,mBACA,aACA,uBAEH,oBACG,OACA,YACA,OACA,cACA,kBAEH,uBACG,OACA,YACA,OACA,cACA,aACA,gBACA,uBAEH,YACG,OACA,YACA,OACA,cACA,oBACA,gBACA,qBAEH,kBACG,OACA,YACA,OACA,cACA,YACA,UACA,uBAEH,iBACG,OACA,YACA,OACA,oBACA,YACA,gBAEH,uBACG,OACA,YACA,OACA,cACA,oBACA,qBAEH,0BACG,OACA,cACA,gBACA,oBACA,0BAEH,aACG,OACA,YACA,OACA,cACA,aACA,WACA,gBACA,aACA,MACA,qCACA,yCAEH,kBACG,OACA,gBAEH,iBACG,OACA,YAEH,qBACG,OACA,cACA,aACA,qBAEH,WACG,OACA,YACA,OACA,cACA,aACA,oBACA,aACA,aACA,mBACA,gBACA,yBACA,uBACA,WACA,SACA,2BACA,oBACA,yBACA,aACA,cACA,wBACA,eACA,qBACA,kBACA,aACA,uBAEH,oBACG,SACA,OACA,YACA,OACA,cACA,cACA,aACA,UACA,MACA,gBACA,UACA,QACA,cACA,cACA,cAEH,yBACG,OACA,YACA,OACA,cACA,SACA,uBAEH,4BACG,OACA,YACA,OACA,cACA,aACA,gBACA,iCACA,4BAEH,yBACG,OACA,mBAEH,YACG,OACA,YACA,OACA,cACA,WAEH,aACG,OACA,OACA,YACA,YACA,YACA,SACA,uBACA,4BACA,+BACA,qBACA,0BACA,mBACA,4BACA,iCACA,oCACA,gBACA,qBACA,mBACA,4BACA,wBACA,y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","file":"5-6f8a229cea364b1d8604.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 1017:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rx__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__ = __webpack_require__(937);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__ = __webpack_require__(218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__ = __webpack_require__(708);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar loadOrganisationUnitLevels = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var d2, api;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context.sent;\n                        api = d2.Api.getApi();\n                        _context.next = 6;\n                        return api.get('filledOrganisationUnitLevels');\n\n                    case 6:\n                        return _context.abrupt('return', _context.sent);\n\n                    case 7:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function loadOrganisationUnitLevels() {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nvar getOrganisationUnitLevelFormFields = function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var d2;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n                switch (_context2.prev = _context2.next) {\n                    case 0:\n                        _context2.next = 2;\n                        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])();\n\n                    case 2:\n                        d2 = _context2.sent;\n                        return _context2.abrupt('return', fieldForOrganisationUnitLevels.map(function (fieldName) {\n                            var fieldOption = fieldOptions.get(fieldName) || {};\n\n                            return {\n                                name: fieldName,\n                                component: fieldOption.component || __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a,\n                                props: Object.assign({\n                                    floatingLabelText: d2.i18n.getTranslation(__WEBPACK_IMPORTED_MODULE_9_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName))\n                                }, fieldOption.props),\n                                validators: [{\n                                    validator: isNameUnique,\n                                    message: d2.i18n.getTranslation('value_not_unique')\n                                }]\n                            };\n                        }));\n\n                    case 4:\n                    case 'end':\n                        return _context2.stop();\n                }\n            }\n        }, _callee2, this);\n    }));\n\n    return function getOrganisationUnitLevelFormFields() {\n        return _ref2.apply(this, arguments);\n    };\n}();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar fieldForOrganisationUnitLevels = __WEBPACK_IMPORTED_MODULE_8__config_field_config_field_order__[\"a\" /* default */].for('organisationUnitLevel');\n\nvar actions = __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_action_Action__[\"a\" /* default */].createActionsFromNames(['initOrgUnitLevels', 'fieldUpdate', 'updateFormStatus', 'saveOrganisationUnitLevels']);\n\nfunction DropDownFieldForOfflineLevels(props) {\n    var options = props.options,\n        otherProps = _objectWithoutProperties(props, ['options']);\n\n    var availableOptions = [{ value: undefined, text: 'Default', label: ' ' }].concat(options.map(function (option) {\n        return { value: option, text: option, label: option };\n    })).map(function (option, index) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.value, label: option.label });\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_material_ui_SelectField_SelectField___default.a,\n        _extends({}, otherProps, { onChange: function onChange(event, index, value) {\n                return props.onChange({ target: { value: value } });\n            } }),\n        availableOptions\n    );\n}\nDropDownFieldForOfflineLevels.propTypes = {\n    options: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array\n};\n\nvar fieldOptions = new Map([['name', {\n    component: __WEBPACK_IMPORTED_MODULE_5_material_ui_TextField_TextField___default.a\n}], ['offlineLevels', {\n    component: DropDownFieldForOfflineLevels,\n    props: {\n        options: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n    }\n}]]);\n\nfunction isNameUnique(name) {\n    return __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].state.fieldsForOrganisationUnitLevel.map(function (fieldConfigs) {\n        return fieldConfigs.filter(function (fieldConfig) {\n            return fieldConfig.name === 'name';\n        }).some(function (fieldConfig) {\n            return fieldConfig.value === name;\n        });\n    }).every(function (result) {\n        return result === false;\n    });\n}\n\nvar organisationUnitLevelFormFields$ = __WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].fromPromise(getOrganisationUnitLevelFormFields());\n\nfunction getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields) {\n    return organisationUnitLevels.map(function (ouLevel) {\n        var result = organisationUnitLevelFormFields.map(function (fieldConfig) {\n            return Object.assign({}, fieldConfig, { value: ouLevel[fieldConfig.name] });\n        });\n\n        result.organisationUnitLevel = ouLevel;\n        return result;\n    });\n}\n\nfunction buildFormStatus(_ref3) {\n    var data = _ref3.data;\n\n    return __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState().formStatus.map(function (status, index) {\n        if (index === data.levelIndex) {\n            return data.formStatus.valid;\n        }\n        return status;\n    });\n}\n\nactions.updateFormStatus.map(buildFormStatus).subscribe(function (formStatusForAllLevels) {\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(Object.assign({}, __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(), { formStatus: formStatusForAllLevels }));\n});\n\nactions.initOrgUnitLevels.flatMap(function () {\n    return __WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].combineLatest(__WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].fromPromise(loadOrganisationUnitLevels()), organisationUnitLevelFormFields$, function (organisationUnitLevels, organisationUnitLevelFormFields) {\n        return { organisationUnitLevels: organisationUnitLevels, organisationUnitLevelFormFields: organisationUnitLevelFormFields };\n    });\n}).map(function (_ref4) {\n    var organisationUnitLevels = _ref4.organisationUnitLevels,\n        organisationUnitLevelFormFields = _ref4.organisationUnitLevelFormFields;\n\n    var fieldConfigsForAllLevels = getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields);\n\n    return {\n        fieldConfigsForAllLevels: fieldConfigsForAllLevels,\n        organisationUnitLevels: organisationUnitLevels\n    };\n}).subscribe(function (_ref5) {\n    var fieldConfigsForAllLevels = _ref5.fieldConfigsForAllLevels,\n        organisationUnitLevels = _ref5.organisationUnitLevels;\n\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState({\n        isSaving: false,\n        isLoading: false,\n        fieldsForOrganisationUnitLevel: fieldConfigsForAllLevels,\n        formStatus: fieldConfigsForAllLevels.map(function () {\n            return true;\n        }),\n        organisationUnitLevels: organisationUnitLevels\n    });\n});\n\n__WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].combineLatest(actions.fieldUpdate, organisationUnitLevelFormFields$, function (action, organisationUnitLevelFormFields) {\n    return { action: action, organisationUnitLevelFormFields: organisationUnitLevelFormFields };\n}).map(function (_ref6) {\n    var action = _ref6.action,\n        organisationUnitLevelFormFields = _ref6.organisationUnitLevelFormFields;\n    return _extends({}, action.data, {\n        storeState: __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(),\n        organisationUnitLevelFormFields: organisationUnitLevelFormFields\n    });\n}).subscribe(function (_ref7) {\n    var storeState = _ref7.storeState,\n        fieldName = _ref7.fieldName,\n        fieldValue = _ref7.fieldValue,\n        organisationUnitLevel = _ref7.organisationUnitLevel,\n        organisationUnitLevelFormFields = _ref7.organisationUnitLevelFormFields;\n\n    var organisationUnitToChangeValueFor = storeState.organisationUnitLevels.find(function (ouLevel) {\n        return ouLevel === organisationUnitLevel;\n    });\n\n    if (organisationUnitToChangeValueFor && fieldName) {\n        organisationUnitToChangeValueFor[fieldName] = fieldValue;\n    }\n\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(Object.assign({}, storeState, {\n        organisationUnitLevels: storeState.organisationUnitLevels,\n        fieldsForOrganisationUnitLevel: getFieldConfigsForAllFields(storeState.organisationUnitLevels, organisationUnitLevelFormFields)\n    }));\n});\n\nfunction saveOrganisationUnitLevels(action) {\n    var organisationUnitLevels = action.organisationUnitLevels,\n        complete = action.complete,\n        error = action.error;\n\n\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        return d2.Api.getApi();\n    }).then(function (api) {\n        return api.post('filledOrganisationUnitLevels', { organisationUnitLevels: organisationUnitLevels }, { dataType: 'text' });\n    }).then(function () {\n        return complete;\n    }).catch(function () {\n        return error;\n    });\n}\n\nactions.saveOrganisationUnitLevels.map(function (action) {\n    return _extends({\n        organisationUnitLevels: __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState().organisationUnitLevels.map(function (_ref8) {\n            var name = _ref8.name,\n                level = _ref8.level,\n                offlineLevels = _ref8.offlineLevels;\n            return { name: name, level: level, offlineLevels: offlineLevels };\n        })\n    }, action);\n}).do(function () {\n    __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].setState(_extends({}, __WEBPACK_IMPORTED_MODULE_4__organisationUnitLevels_store__[\"a\" /* default */].getState(), {\n        isSaving: true\n    }));\n}).flatMap(function (action) {\n    return __WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].fromPromise(saveOrganisationUnitLevels(action));\n}).subscribe(function (callback) {\n    callback.call();\n    actions.initOrgUnitLevels();\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = actions;\n\n/***/ }),\n\n/***/ 583:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__ = __webpack_require__(937);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__ = __webpack_require__(123);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__ = __webpack_require__(741);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__ = __webpack_require__(1017);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__ = __webpack_require__(222);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__ = __webpack_require__(778);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__ = __webpack_require__(777);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__ = __webpack_require__(586);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__ = __webpack_require__(724);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__App_AccessDenied_component__ = __webpack_require__(825);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction saveOrganisationUnitLevels(i18n) {\n    __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].saveOrganisationUnitLevels().subscribe(function () {\n        return __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: i18n.getTranslation('organisation_unit_levels_save_success') });\n    }, function () {\n        return __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: i18n.getTranslation('organisation_unit_levels_save_failed'), action: 'ok' });\n    });\n}\n\nfunction OrganisationUnitLevels(props, context) {\n    var canEdit = context.d2.currentUser.canUpdate(context.d2.models.organisationUnitLevel);\n\n    if (props.isLoading) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_LinearProgress_LinearProgress___default.a, null);\n    }\n\n    var styles = {\n        paperWrap: {\n            padding: '4rem 5rem',\n            maxWidth: 700,\n            marginTop: '2rem'\n        },\n        rowStyle: {\n            display: 'flex',\n            flexDirection: 'row',\n            height: '5rem'\n        },\n        formWrapStyle: {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'row'\n        },\n        fieldWrapStyle: {\n            flex: 1,\n            paddingRight: '1rem'\n        },\n        translateButtonWrap: {\n            alignItems: 'flex-end',\n            display: 'flex',\n            flex: '5rem',\n            height: '5rem',\n            verticalAlign: 'middle'\n        }\n    };\n\n    var fieldRows = props.fieldsForOrganisationUnitLevel.map(function (fieldsForLevel, index) {\n        var translateButton = null;\n        if (fieldsForLevel.organisationUnitLevel.id && canEdit) {\n            translateButton = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.translateButtonWrap },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_7_material_ui_IconButton_IconButton___default.a,\n                    { iconClassName: 'material-icons', onClick: function onClick() {\n                            return props.onTranslateClick(fieldsForLevel.organisationUnitLevel);\n                        } },\n                    'translate'\n                )\n            );\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { key: index, style: styles.rowStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_forms_FormBuilder_component__[\"a\" /* default */], {\n                style: styles.formWrapStyle,\n                fieldWrapStyle: styles.fieldWrapStyle,\n                fields: fieldsForLevel.map(function (fieldConfig) {\n                    return _extends({}, fieldConfig, {\n                        props: _extends({}, fieldConfig.props, {\n                            disabled: !canEdit\n                        })\n                    });\n                }),\n                onUpdateField: function onUpdateField(fieldName, fieldValue) {\n                    return __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].fieldUpdate({ organisationUnitLevel: fieldsForLevel.organisationUnitLevel, fieldName: fieldName, fieldValue: fieldValue });\n                },\n                onUpdateFormStatus: function onUpdateFormStatus(formStatus) {\n                    return __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].updateFormStatus({ levelIndex: index, formStatus: formStatus });\n                }\n            }),\n            translateButton\n        );\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_12_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n            null,\n            context.d2.i18n.getTranslation('organisation_unit_level_management')\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_8_material_ui_Paper_Paper___default.a,\n            { style: styles.paperWrap },\n            fieldRows,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_10__EditModel_FormButtons_component__[\"a\" /* default */],\n                null,\n                canEdit ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_9__EditModel_SaveButton_component__[\"a\" /* default */], { onClick: function onClick() {\n                        return saveOrganisationUnitLevels(context.d2.i18n);\n                    }, isValid: props.formStatus.every(function (v) {\n                        return v;\n                    }), isSaving: props.isSaving }) : []\n            )\n        )\n    );\n}\nOrganisationUnitLevels.defaultProps = {\n    fieldsForOrganisationUnitLevel: [],\n    formStatus: [false],\n    isLoading: true,\n    isSaving: false\n};\nOrganisationUnitLevels.propTypes = {\n    fieldsForOrganisationUnitLevel: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array,\n    formStatus: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].array,\n    isLoading: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].bool,\n    isSaving: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].bool\n};\n\nvar componentState$ = __WEBPACK_IMPORTED_MODULE_2__organisationUnitLevels_store__[\"a\" /* default */];\n\nvar OrganisationUnitLevelsWithState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d2_ui_lib_component_helpers_withStateFrom__[\"a\" /* default */])(componentState$, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(OrganisationUnitLevels));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class() {\n        var _ref;\n\n        _classCallCheck(this, _class);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            translation: {\n                open: false\n            }\n        };\n\n        _this._onTranslateClick = _this._onTranslateClick.bind(_this);\n        _this._closeTranslationDialog = _this._closeTranslationDialog.bind(_this);\n        _this._translationSaved = _this._translationSaved.bind(_this);\n        _this._translationErrored = _this._translationErrored.bind(_this);\n        return _this;\n    }\n\n    _createClass(_class, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            __WEBPACK_IMPORTED_MODULE_6__organisationUnitLevels_actions__[\"a\" /* default */].initOrgUnitLevels();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(OrganisationUnitLevelsWithState, { onTranslateClick: this._onTranslateClick }),\n                this.state.translation.model ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_13_d2_ui_lib_i18n_TranslationDialog_component__[\"a\" /* default */], {\n                    objectToTranslate: this.state.translation.model,\n                    objectTypeToTranslate: this.state.translation.model && this.state.translation.model.modelDefinition,\n                    open: this.state.translation.open,\n                    onTranslationSaved: this._translationSaved,\n                    onTranslationError: this._translationErrored,\n                    onRequestClose: this._closeTranslationDialog,\n                    fieldsToTranslate: ['name']\n                }) : null\n            );\n        }\n    }, {\n        key: '_onTranslateClick',\n        value: function _onTranslateClick(data) {\n            var model = this.context.d2.models.organisationUnitLevel.create(data);\n\n            this.setState({\n                translation: {\n                    open: true,\n                    model: model\n                }\n            });\n        }\n    }, {\n        key: '_translationSaved',\n        value: function _translationSaved() {\n            __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.context.d2.i18n.getTranslation('translation_saved') });\n        }\n    }, {\n        key: '_translationErrored',\n        value: function _translationErrored() {\n            __WEBPACK_IMPORTED_MODULE_11__Snackbar_snack_actions__[\"a\" /* default */].show({ message: this.context.d2.i18n.getTranslation('translation_save_error'), action: 'ok' });\n        }\n    }, {\n        key: '_closeTranslationDialog',\n        value: function _closeTranslationDialog() {\n            this.setState({\n                translation: {\n                    open: false,\n                    model: undefined\n                }\n            });\n        }\n    }]);\n\n    return _class;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component));\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar Translate = {\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Translate;\n\n/***/ }),\n\n/***/ 586:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\nHeading.propTypes = {\n    level: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].oneOf([1, 2, 3, 4, 5, 6]),\n    text: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].string\n};\nHeading.defaultProps = {\n    level: 1\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Heading;\n\n/***/ }),\n\n/***/ 708:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar fieldOrderByName = new Map([['dataElement', ['name', 'shortName', 'code', 'description', 'formName', 'domainType', 'valueType', 'aggregationType', 'zeroIsSignificant', 'url', 'categoryCombo', 'optionSet', 'commentOptionSet', 'legendSets', 'aggregationLevels']], ['dataElementGroup', ['name', 'shortName', 'code', 'description', 'dataElements']], ['dataElementGroupSet', ['name', 'shortName', 'code', 'description', 'compulsory', 'dataDimension', 'dataElementGroups']], ['category', ['name', 'shortName', 'code', 'description', 'dataDimensionType', 'dataDimension', 'categoryOptions']], ['categoryOption', ['name', 'shortName', 'code', 'description', 'startDate', 'endDate', 'organisationUnits']], ['categoryCombo', ['name', 'shortName', 'code', 'dataDimensionType', 'skipTotal', 'categories']], ['categoryOptionGroup', ['name', 'shortName', 'code', 'description', 'dataDimensionType', 'categoryOptions']], ['categoryOptionGroupSet', ['name', 'description', 'dataDimension', 'dataDimensionType', 'categoryOptionGroups']], ['indicator', ['name', 'shortName', 'code', 'description', 'annualized', 'decimals', 'indicatorType', 'legendSets', 'url', 'aggregateExportCategoryOptionCombo', 'aggregateExportAttributeOptionCombo']], ['indicatorGroup', ['name', 'indicators']], ['indicatorType', ['name', 'factor']], ['indicatorGroupSet', ['name', 'description', 'compulsory', 'indicatorGroups']], ['dataSet', ['name', 'shortName', 'code', 'description', 'expiryDays', 'openFuturePeriods', 'timelyDays', 'periodType', 'dataInputPeriods', 'categoryCombo', 'notificationRecipients', 'notifyCompletingUser', 'workflow', 'mobile', 'fieldCombinationRequired', 'validCompleteOnly', 'noValueRequiresComment', 'legendSets', 'skipOffline', 'dataElementDecoration', 'renderAsTabs', 'renderHorizontally', 'dataSetElements', 'indicators', 'organisationUnits']], ['organisationUnit', ['parent', 'name', 'shortName', 'code', 'description', 'openingDate', 'closedDate', 'comment', 'url', 'contactPerson', 'address', 'email', 'phoneNumber', 'coordinates', 'dataSets']], ['organisationUnitGroup', ['name', 'shortName', 'code', 'description', 'symbol', 'organisationUnits']], ['organisationUnitGroupSet', ['name', 'shortName', 'code', 'description', 'compulsory', 'dataDimension', 'includeSubhierarchyInAnalytics', 'organisationUnitGroups']], ['organisationUnitLevel', ['name', 'offlineLevels']], ['constant', ['name', 'shortName', 'code', 'description', 'value']], ['attribute', ['name', 'code', 'valueType', 'optionSet', 'mandatory', 'unique', 'dataElementAttribute', 'dataElementGroupAttribute', 'dataElementGroupSetAttribute', 'indicatorAttribute', 'indicatorGroupAttribute', 'dataSetAttribute', 'organisationUnitAttribute', 'organisationUnitGroupAttribute', 'organisationUnitGroupSetAttribute', 'userAttribute', 'userGroupAttribute', 'programAttribute', 'programIndicatorAttribute', 'programStageAttribute', 'trackedEntityAttribute', 'trackedEntityAttributeAttribute', 'categoryAttribute', 'categoryOptionAttribute', 'categoryOptionComboAttribute', 'categoryOptionGroupAttribute', 'documentAttribute', 'optionAttribute', 'optionSetAttribute', 'constantAttribute', 'legendSetAttribute', 'validationRuleAttribute']], ['optionSet', ['name', 'code', 'description', 'valueType']], ['legendSet', ['name', 'code', 'legends']], ['trackedEntityAttribute', ['name', 'shortName', 'code', 'description', 'optionSet', 'valueType', 'aggregationType', 'unique', 'inherit', 'confidential', 'displayInListNoProgram', 'legendSets']], ['trackedEntityAttributeGroup', ['name', 'shortName', 'code', 'description', 'trackedEntityAttributes']], ['relationshipType', ['name', 'code', 'aIsToB', 'bIsToA']], ['trackedEntity', ['name', 'description']], ['validationRule', ['name', 'shortName', 'code', 'description', 'importance', 'ruleType', 'importance', 'ruleType', 'periodType', 'operator', 'leftSide', 'rightSide']], ['validationRuleGroup', ['name', 'shortName', 'code', 'description', 'validationRules']], ['predictor', ['name', 'shortName', 'code', 'description', 'output', 'periodType', 'organisationUnitLevels', 'generator', 'sampleSkipTest', 'sequentialSampleCount', 'annualSampleCount', 'sequentialSkipCount']], ['pushAnalysis', ['name', 'code', 'title', 'message', 'dashboard', 'recipientUserGroups', 'schedulingFrequency', 'enabled']], ['externalMapLayer', ['name', 'code', 'mapService', 'imageFormat', 'url', 'attribution', 'mapLayerPosition', 'legendSet', 'legendSetUrl']], ['validationNotificationTemplate', ['name', 'code', 'validationRules', 'recipientUserGroups', 'notifyUsersInHierarchyOnly', 'messageTemplate']]]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n    /**\n     * @method\n     *\n     * @params {String} schemaName The name of the schema for which to get the field order\n     * @returns {Array} An arraylist of field names\n     * This can be used to set field order on the `FormFieldsManager`\n     *\n     * @example\n     * ```\n     * import fieldOverrides from 'field-overrides';\n     *\n     * let dataElementOverrides = fieldOverrides.for('dataElement');\n     * ```\n     */\n    for: function _for(schemaName) {\n        if (schemaName && fieldOrderByName.has(schemaName)) {\n            return fieldOrderByName.get(schemaName);\n        }\n        return ['name', 'shortName', 'code'];\n    }\n};\n\n/***/ }),\n\n/***/ 723:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__i18n_Translate_mixin__ = __webpack_require__(585);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'LocaleSelector.component',\n\n    propTypes: {\n        value: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n        locales: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.shape({\n            name: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired,\n            locale: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired\n        })).isRequired,\n        onChange: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_3__i18n_Translate_mixin__[\"a\" /* default */]],\n\n    render: function render() {\n        var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, {\n                key: index,\n                primaryText: locale.name,\n                value: locale.locale\n            });\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n            _extends({\n                fullWidth: true\n            }, this.props, {\n                value: this.state && this.state.locale,\n                hintText: this.getTranslation('select_locale'),\n                onChange: this._localeChange\n            }),\n            localeMenuItems\n        );\n    },\n    _localeChange: function _localeChange(event, index, locale) {\n        this.setState({\n            locale: locale\n        });\n\n        this.props.onChange(locale, event);\n    }\n});\n\n/***/ }),\n\n/***/ 724:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__ = __webpack_require__(223);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__TranslationForm_component__ = __webpack_require__(725);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"config\"].i18n.strings.add('close');\n__WEBPACK_IMPORTED_MODULE_0_d2_lib_d2__[\"config\"].i18n.strings.add('sharing_settings');\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeSharingDialog = _this.closeSharingDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Dialog_Dialog___default.a,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                __WEBPACK_IMPORTED_MODULE_2_react___default.a.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeSharingDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__TranslationForm_component__[\"a\" /* getTranslationFormFor */])(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeSharingDialog',\n        value: function closeSharingDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved() {\n            this.props.onTranslationSaved();\n            this.closeSharingDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError() {\n            this.props.onTranslationError();\n        }\n    }]);\n\n    return TranslationDialog;\n}(__WEBPACK_IMPORTED_MODULE_2_react__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = TranslationDialog;\n\n\nTranslationDialog.propTypes = {\n    objectToTranslate: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.shape({\n        id: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.func.isRequired,\n    onTranslationError: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.func.isRequired,\n    open: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.bool,\n    onRequestClose: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.func.isRequired,\n    fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_2_react___default.a.PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: __WEBPACK_IMPORTED_MODULE_2_react__[\"PropTypes\"].object\n};\n\n/***/ }),\n\n/***/ 725:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__ = __webpack_require__(226);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__ = __webpack_require__(218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__i18n_Translate_mixin__ = __webpack_require__(585);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__i18n_LocaleSelector_component__ = __webpack_require__(723);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__translationForm_actions__ = __webpack_require__(726);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__component_helpers_withStateFrom__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rx__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__store_Store__ = __webpack_require__(14);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationFormFor;\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getTranslationFormData(model) {\n    var translationStore = __WEBPACK_IMPORTED_MODULE_10__store_Store__[\"a\" /* default */].create();\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__translationForm_actions__[\"a\" /* getTranslationsForModel */])(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_9_rx__[\"Observable\"].combineLatest(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__translationForm_actions__[\"b\" /* getLocales */])(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nvar TranslationForm = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'TranslationForm',\n\n    propTypes: {\n        onTranslationSaved: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n        onTranslationError: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n        objectToTranslate: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.shape({\n            id: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired\n        }),\n        fieldsToTranslate: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string)\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_3__i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        return {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n    },\n    getDefaultProps: function getDefaultProps() {\n        return {\n            fieldsToTranslate: ['name', 'shortName', 'description']\n        };\n    },\n    getLoadingdataElement: function getLoadingdataElement() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: { textAlign: 'center' } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_CircularProgress___default.a, { mode: 'indeterminate' })\n        );\n    },\n    renderFieldsToTranslate: function renderFieldsToTranslate() {\n        var _this = this;\n\n        return this.props.fieldsToTranslate.filter(function (fieldName) {\n            return fieldName;\n        }).map(function (fieldName) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { key: fieldName },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_TextField_TextField___default.a, { floatingLabelText: _this.getTranslation(__WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName)),\n                    value: _this.getTranslationValueFor(fieldName),\n                    fullWidth: true,\n                    onChange: _this._setValue.bind(_this, fieldName)\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    null,\n                    _this.props.objectToTranslate[fieldName]\n                )\n            );\n        });\n    },\n    renderForm: function renderForm() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            this.renderFieldsToTranslate(),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton___default.a, {\n                label: this.getTranslation('save'),\n                primary: true,\n                onClick: this._saveTranslations\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_material_ui_RaisedButton_RaisedButton___default.a, {\n                style: { marginLeft: '1rem' },\n                label: this.getTranslation('cancel'),\n                onClick: this.props.onCancel\n            })\n        );\n    },\n    renderHelpText: function renderHelpText() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n            )\n        );\n    },\n    render: function render() {\n        if (!this.props.locales && !this.props.translations) {\n            return this.getLoadingdataElement();\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: { minHeight: 250 } },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__i18n_LocaleSelector_component__[\"a\" /* default */], { locales: this.props.locales, onChange: this.setCurrentLocale }),\n            Boolean(this.state.currentSelectedLocale) ? this.renderForm() : this.renderHelpText()\n        );\n    },\n    getTranslationValueFor: function getTranslationValueFor(fieldName) {\n        var _this2 = this;\n\n        var translation = this.props.translations.find(function (t) {\n            return t.locale === _this2.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default()(fieldName);\n        });\n\n        if (translation) {\n            return translation.value;\n        }\n    },\n    setCurrentLocale: function setCurrentLocale(locale) {\n        this.setState({\n            currentSelectedLocale: locale\n        });\n    },\n    _setValue: function _setValue(property, event) {\n        var _this3 = this;\n\n        var newTranslations = [].concat(this.props.translations);\n        var translation = newTranslations.find(function (t) {\n            return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === __WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default()(property);\n        });\n\n        if (translation) {\n            if (event.target.value) {\n                translation.value = event.target.value;\n            } else {\n                // Remove translation from the array\n                newTranslations = newTranslations.filter(function (t) {\n                    return t !== translation;\n                });\n            }\n        } else {\n            translation = {\n                property: __WEBPACK_IMPORTED_MODULE_6_d2_utilizr_lib_camelCaseToUnderscores___default()(property).toUpperCase(),\n                locale: this.state.currentSelectedLocale,\n                value: event.target.value\n            };\n\n            newTranslations.push(translation);\n        }\n\n        this.props.setTranslations(newTranslations);\n    },\n    _saveTranslations: function _saveTranslations() {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__translationForm_actions__[\"c\" /* saveTranslations */])(this.props.objectToTranslate, this.props.translations).subscribe(this.props.onTranslationSaved, this.props.onTranslationError);\n    }\n});\n\n/* unused harmony default export */ var _unused_webpack_default_export = TranslationForm;\n\nfunction getTranslationFormFor(model) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__component_helpers_withStateFrom__[\"a\" /* default */])(getTranslationFormData(model), TranslationForm);\n}\n\n/***/ }),\n\n/***/ 726:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__action_Action__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rx__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rx__);\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getLocales;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTranslationsForModel;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return saveTranslations; });\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\nfunction getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nfunction getTranslationsForModel(model) {\n    return __WEBPACK_IMPORTED_MODULE_2_rx__[\"Observable\"].just(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nvar saveTranslations = __WEBPACK_IMPORTED_MODULE_0__action_Action__[\"a\" /* default */].create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d2_lib_d2__[\"getInstance\"])().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(complete).catch(error);\n    });\n});\n\n/***/ }),\n\n/***/ 741:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AsyncValidatorRunner__ = __webpack_require__(795);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(781);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress__ = __webpack_require__(226);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar noop = function noop() {};\n\nvar FormBuilder = function (_React$Component) {\n    _inherits(FormBuilder, _React$Component);\n\n    function FormBuilder(props) {\n        _classCallCheck(this, FormBuilder);\n\n        var _this = _possibleConstructorReturn(this, (FormBuilder.__proto__ || Object.getPrototypeOf(FormBuilder)).call(this, props));\n\n        _this.state = _this.initState(props);\n        _this.asyncValidators = _this.createAsyncValidators(props);\n        _this.asyncValidationRunner = props.asyncValidationRunner || new __WEBPACK_IMPORTED_MODULE_1__AsyncValidatorRunner__[\"a\" /* default */]();\n\n        _this.getFieldProp = _this.getFieldProp.bind(_this);\n        _this.getStateClone = _this.getStateClone.bind(_this);\n        return _this;\n    }\n\n    /**\n     * Called by React when the component receives new props, but not on the initial render.\n     *\n     * State is calculated based on the incoming props, in such a way that existing form fields\n     * are updated as necessary, but not overridden. See the initState function for details.\n     *\n     * @param props\n     */\n\n\n    _createClass(FormBuilder, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            this.asyncValidators = this.createAsyncValidators(props);\n\n            var clonedState = this.getStateClone();\n\n            props.fields\n            // Only check fields that are set on the component state\n            .filter(function (field) {\n                return _this2.state && _this2.state.fields && _this2.state.fields[field.name];\n            })\n            // Filter out fields where the values changed\n            .filter(function (field) {\n                return field.value !== _this2.state.fields[field.name].value;\n            })\n            // Change field value and run validators for the field\n            .forEach(function (field) {\n                clonedState.fields[field.name].value = field.value;\n                _this2.validateField(clonedState, field.name, field.value);\n            });\n\n            this.setState(clonedState);\n        }\n\n        /**\n         * Custom state deep copy function\n         *\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'getStateClone',\n        value: function getStateClone() {\n            var _this3 = this;\n\n            return {\n                form: {\n                    pristine: this.state.form.pristine,\n                    valid: this.state.form.valid,\n                    validating: this.state.form.validating\n                },\n                fields: Object.keys(this.state.fields).reduce(function (p, c) {\n                    p[c] = {\n                        pristine: _this3.state.fields[c].pristine,\n                        validating: _this3.state.fields[c].validating,\n                        valid: _this3.state.fields[c].valid,\n                        value: _this3.state.fields[c].value,\n                        error: _this3.state.fields[c].error\n                    };\n                    return p;\n                }, {})\n            };\n        }\n\n        /**\n         * Render the form fields.\n         *\n         * @returns {*} An array containing markup for each form field\n         */\n\n    }, {\n        key: 'renderFields',\n        value: function renderFields() {\n            var _this4 = this;\n\n            var styles = {\n                field: {\n                    position: 'relative'\n                },\n                progress: this.props.validatingProgressStyle,\n                validatingErrorStyle: {\n                    color: 'orange'\n                }\n            };\n\n            return this.props.fields.map(function (field) {\n                var _ref = field.props || {},\n                    errorTextProp = _ref.errorTextProp,\n                    props = _objectWithoutProperties(_ref, ['errorTextProp']);\n\n                var fieldState = _this4.state.fields[field.name] || {};\n\n                var changeHandler = _this4.handleFieldChange.bind(_this4, field.name);\n\n                var onBlurChangeHandler = props.changeEvent === 'onBlur' ? function (e) {\n                    var stateClone = _this4.updateFieldState(_this4.getStateClone(), field.name, { value: e.target.value });\n                    _this4.validateField(stateClone, field.name, e.target.value);\n                    _this4.setState(stateClone);\n                } : undefined;\n\n                var errorText = fieldState && fieldState.validating ? field.validatingLabelText || _this4.props.validatingLabelText : errorTextProp;\n\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { key: field.name, style: Object.assign({}, styles.field, _this4.props.fieldWrapStyle) },\n                    fieldState.validating ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_material_ui_CircularProgress___default.a, { mode: 'indeterminate', size: 0.33, style: styles.progress }) : undefined,\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(field.component, _extends({\n                        value: fieldState.value,\n                        onChange: props.changeEvent && props.changeEvent === 'onBlur' ? onBlurChangeHandler : changeHandler,\n                        onBlur: props.changeEvent && props.changeEvent === 'onBlur' ? changeHandler : undefined,\n                        errorStyle: fieldState.validating ? styles.validatingErrorStyle : undefined,\n                        errorText: fieldState.valid ? errorText : fieldState.error\n                    }, props))\n                );\n            });\n        }\n\n        /**\n         * Render the component\n         *\n         * @returns {XML}\n         */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: this.props.style },\n                this.renderFields()\n            );\n        }\n\n        /**\n         * Calculates initial state based on the provided props and the existing state, if any.\n         *\n         * @param props\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'initState',\n        value: function initState(props) {\n            var _this5 = this;\n\n            var state = {\n                fields: props.fields.reduce(function (fields, field) {\n                    var currentFieldState = _this5.state && _this5.state.fields && _this5.state.fields[field.name];\n                    return Object.assign(fields, _defineProperty({}, field.name, {\n                        value: currentFieldState !== undefined && !currentFieldState.pristine ? currentFieldState.value : field.value,\n                        pristine: currentFieldState !== undefined ? currentFieldState.value === field.value : true,\n                        validating: currentFieldState !== undefined ? currentFieldState.validating : false,\n                        valid: currentFieldState !== undefined ? currentFieldState.valid : true,\n                        error: currentFieldState && currentFieldState.error || undefined\n                    }));\n                }, {})\n            };\n            state.form = {\n                pristine: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].pristine;\n                }, true),\n                validating: Object.keys(state.fields).reduce(function (p, c) {\n                    return p || state.fields[c].validating;\n                }, false),\n                valid: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].valid;\n                }, true)\n            };\n            return state;\n        }\n\n        /**\n         * Create an object with a property for each field that has async validators, which is later used\n         * to store Rx.Observable's for any currently running async validators\n         *\n         * @param props\n         * @returns {*}\n         */\n\n    }, {\n        key: 'createAsyncValidators',\n        value: function createAsyncValidators(props) {\n            var _this6 = this;\n\n            return props.fields.filter(function (field) {\n                return Array.isArray(field.asyncValidators) && field.asyncValidators.length;\n            }).reduce(function (p, currentField) {\n                p[currentField.name] = _this6.asyncValidators && _this6.asyncValidators[currentField.name] || undefined;\n                return p;\n            }, {});\n        }\n\n        /**\n         * Cancel the currently running async validators for the specified field name, if any.\n         *\n         * @param fieldName\n         */\n\n    }, {\n        key: 'cancelAsyncValidators',\n        value: function cancelAsyncValidators(fieldName) {\n            if (this.asyncValidators[fieldName]) {\n                this.asyncValidators[fieldName].dispose();\n                this.asyncValidators[fieldName] = undefined;\n            }\n        }\n\n        /**\n         * Utility method to mutate the provided state object in place\n         *\n         * @param state A state object\n         * @param fieldName A valid field name\n         * @param fieldState Mutations to apply to the specified field name\n         * @returns {*} A reference to the mutated state object for chaining\n         */\n\n    }, {\n        key: 'updateFieldState',\n        value: function updateFieldState(state, fieldName, fieldState) {\n            var fieldProp = this.getFieldProp(fieldName);\n            state.fields[fieldName] = {\n                pristine: fieldState.pristine !== undefined ? !!fieldState.pristine : state.fields[fieldName].value === fieldProp.value,\n                validating: fieldState.validating !== undefined ? !!fieldState.validating : state.fields[fieldName].validating,\n                valid: fieldState.valid !== undefined ? !!fieldState.valid : state.fields[fieldName].valid,\n                error: fieldState.error,\n                value: fieldState.value !== undefined ? fieldState.value : state.fields[fieldName].value\n            };\n\n            // Form state is a composite of field states\n            var fieldNames = Object.keys(state.fields);\n            state.form = {\n                pristine: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].pristine;\n                }, true),\n                validating: fieldNames.reduce(function (p, current) {\n                    return p || state.fields[current].validating;\n                }, false),\n                valid: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].valid;\n                }, true)\n            };\n\n            return state;\n        }\n\n        /**\n         * Field value change event\n         *\n         * This is called whenever the value of the specified field has changed. This will be the onChange event handler, unless\n         * the changeEvent prop for this field is set to 'onBlur'.\n         *\n         * The change event is processed as follows:\n         *\n         * - If the value hasn't actually changed, processing stops\n         * - The field status is set to [not pristine]\n         * - Any currently running async validators are cancelled\n         *\n         * - All synchronous validators are called in the order specified\n         * - If a validator fails:\n         *    - The field status is set to invalid\n         *    - The field error message is set to the error message for the validator that failed\n         *    - Processing stops\n         *\n         * - If all synchronous validators pass:\n         *    - The field status is set to [valid]\n         *    - If there are NO async validators for the field:\n         *       - The onUpdateField callback is called, and processing is finished\n         *\n         * - If there ARE async validators for the field:\n         *    - All async validators are started immediately\n         *    - The field status is set to [valid, validating]\n         *    - The validators keep running asynchronously, but the handleFieldChange function terminates\n         *\n         * - The async validators keep running in the background until ONE of them fail, or ALL of them succeed:\n         * - The first async validator to fail causes all processing to stop:\n         *    - The field status is set to [invalid, not validating]\n         *    - The field error message is set to the value that the validator rejected with\n         * - If all async validators complete successfully:\n         *    - The field status is set to [valid, not validating]\n         *    - The onUpdateField callback is called\n         *\n         * @param fieldName The name of the field that changed.\n         * @param event An event object. Only `event.target.value` is used.\n         */\n\n    }, {\n        key: 'handleFieldChange',\n        value: function handleFieldChange(fieldName, event) {\n            var _this7 = this;\n\n            var newValue = event.target.value;\n\n            var field = this.getFieldProp(fieldName);\n\n            // If the field has changeEvent=onBlur the change handler is triggered whenever the field loses focus.\n            // So if the value didn't actually change, abort the change handler here.\n            if (field.props && field.props.changeEvent === 'onBlur' && newValue === field.value) {\n                return;\n            }\n\n            // Using custom clone function to maximize speed, albeit more error prone\n            var stateClone = this.getStateClone();\n\n            // Update value, and set pristine to false\n            this.setState(this.updateFieldState(stateClone, fieldName, { pristine: false, value: newValue }), function () {\n                if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"isObject\"])(newValue) && newValue === (!!field.value ? field.value : '')) {\n                    _this7.props.onUpdateField(fieldName, newValue);\n                    return;\n                }\n\n                // Cancel async validators in progress (if any)\n                if (_this7.asyncValidators[fieldName]) {\n                    _this7.cancelAsyncValidators(fieldName);\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { validating: false }));\n                }\n\n                // Run synchronous validators\n                var validatorResult = _this7.validateField(stateClone, fieldName, newValue);\n\n                // Async validators - only run if sync validators pass\n                if (validatorResult === true) {\n                    _this7.runAsyncValidators(field, stateClone, fieldName, newValue);\n                } else {\n                    // Sync validators failed set field status to false\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { valid: false, error: validatorResult }), function () {\n                        // Also emit when the validator result is false\n                        _this7.props.onUpdateFormStatus(_this7.state.form);\n                        _this7.props.onUpdateField(fieldName, newValue);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'runAsyncValidators',\n        value: function runAsyncValidators(field, stateClone, fieldName, newValue) {\n            var _this8 = this;\n\n            if ((field.asyncValidators || []).length > 0) {\n                // Set field and form state to 'validating'\n                this.setState(this.updateFieldState(stateClone, fieldName, { validating: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n\n                    // TODO: Subscription to validation results could be done once in `componentDidMount` and be\n                    // disposed in the `componentWillUnmount` method. This way we don't have to create the\n                    // subscription every time the field is changed.\n                    _this8.asyncValidators[fieldName] = _this8.asyncValidationRunner.listenToValidatorsFor(fieldName).subscribe(function (status) {\n                        _this8.setState(_this8.updateFieldState(_this8.getStateClone(), status.fieldName, {\n                            validating: false,\n                            valid: status.isValid,\n                            error: status.message\n                        }), function () {\n                            _this8.cancelAsyncValidators(status.fieldName);\n                            _this8.props.onUpdateFormStatus(_this8.state.form);\n                        });\n                    });\n\n                    _this8.asyncValidationRunner.run(fieldName, field.asyncValidators, newValue);\n                });\n            } else {\n                this.setState(this.updateFieldState(stateClone, fieldName, { valid: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n                });\n            }\n        }\n\n        /**\n         * Run all synchronous validators (if any) for the field and value, and update the state clone depending on the\n         * outcome\n         *\n         * @param stateClone A clone of the current state\n         * @param fieldName The name of the field to validate\n         * @param newValue The value to validate\n         * @returns {true|String} The error message from the first validator that fails, or true if they all pass\n         */\n\n    }, {\n        key: 'validateField',\n        value: function validateField(stateClone, fieldName, newValue) {\n            var field = this.getFieldProp(fieldName);\n\n            var validatorResult = (field.validators || []).reduce(function (pass, currentValidator) {\n                return pass === true ? currentValidator.validator(newValue) === true || currentValidator.message : pass;\n            }, true);\n\n            this.updateFieldState(stateClone, fieldName, {\n                valid: validatorResult === true,\n                error: validatorResult === true ? undefined : validatorResult\n            });\n\n            return validatorResult;\n        }\n\n        /**\n         * Retreive the field that has the specified field name\n         *\n         * @param fieldName\n         * @returns {}\n         */\n\n    }, {\n        key: 'getFieldProp',\n        value: function getFieldProp(fieldName) {\n            return this.props.fields.filter(function (f) {\n                return f.name === fieldName;\n            })[0];\n        }\n    }]);\n\n    return FormBuilder;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n/**\n * Component prop types\n * @type {{fields: (Object|isRequired), validatingLabelText: *, validatingProgressStyle: *, onUpdateField: (Function|isRequired)}}\n */\n\n\nFormBuilder.propTypes = {\n    fields: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.shape({\n        name: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired,\n        value: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.any,\n        component: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n        props: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.shape({\n            changeEvent: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.oneOf(['onChange', 'onBlur'])\n        }),\n        validators: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.shape({\n            validator: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n            message: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string.isRequired\n        })),\n        asyncValidators: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired),\n        validatingLabelText: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string\n    })).isRequired,\n    validatingLabelText: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n    validatingProgressStyle: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n    onUpdateField: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n    onUpdateFormStatus: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func,\n    style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n    fieldWrapStyle: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n};\n\n/**\n * Default values for optional props\n * @type {{validatingLabelText: string, validatingProgressStyle: {position: string, right: number, top: number}}}\n */\nFormBuilder.defaultProps = {\n    validatingLabelText: 'Validating...',\n    validatingProgressStyle: {\n        position: 'absolute',\n        right: -12,\n        top: 16\n    },\n    onUpdateFormStatus: noop\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = FormBuilder;\n\n/***/ }),\n\n/***/ 777:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__ = __webpack_require__(219);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray__);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = FormButtons;\n\n\n\nfunction FormButtons(props) {\n    var defaultStyle = {\n        marginTop: '1rem'\n    };\n\n    var buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem'\n    };\n\n    var buttonsToRender = __WEBPACK_IMPORTED_MODULE_1_d2_utilizr_lib_isArray___default()(props.children) ? props.children : [props.children];\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { style: Object.assign(defaultStyle, props.style) },\n        buttonsToRender.map(function (child, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.cloneElement(child, {\n                style: buttonStyle,\n                key: index\n            });\n        })\n    );\n}\nFormButtons.propTypes = {\n    style: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object,\n    children: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.oneOfType([__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.array, __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object]).isRequired,\n    isFormValid: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n/***/ }),\n\n/***/ 778:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n\n\n\n\n\nfunction SaveButton(props, _ref) {\n    var d2 = _ref.d2;\n\n    var isValid = props.isValid,\n        isSaving = props.isSaving,\n        onClick = props.onClick,\n        rest = _objectWithoutProperties(props, ['isValid', 'isSaving', 'onClick']);\n\n    var buttonText = isSaving ? d2.i18n.getTranslation('saving') : d2.i18n.getTranslation('save');\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_RaisedButton_RaisedButton___default.a, _extends({}, rest, { primary: true, onClick: onClick, label: buttonText, disabled: isSaving || !isValid }));\n}\n\nSaveButton.propTypes = {\n    isSaving: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool,\n    isValid: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.bool,\n    onClick: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d2_ui_lib_component_helpers_addD2Context__[\"a\" /* default */])(SaveButton);\n\n/***/ }),\n\n/***/ 795:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rx__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rx__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n/**\n * Run `validatorFunctions` in parallel and returns a resolved `Promise` with the validation status.\n * @param {function:Promise[]} validatorFunctions Array of validator functions that return a Promise.\n * @param {*} value The value that should be checked by the given validators\n * @returns {Promise.<Object>} Resolves promise with `{ isValid: true }` when validators passed\n * or with `{ isValid: false, message: '<error_message>'`} when one of the validators failed. The `message` property\n * contains the value that the failed validator function rejected with.\n */\nfunction runValidatorFunctions(validatorFunctions, value) {\n    return Promise.all(validatorFunctions.map(function (validator) {\n        return validator.call(null, value);\n    }))\n    // All validators passed\n    .then(function () {\n        return { isValid: true };\n    })\n    // When one of the validators failed a failure status with error message are emitted\n    .catch(function (errorMessage) {\n        return { isValid: false, message: errorMessage };\n    });\n}\n\n/**\n *\n */\n\nvar AsyncValidatorRunner = function () {\n    /**\n     *\n     * @param {Rx.Scheduler} [scheduler] Optional scheduler to be used for the Rx methods that can accept one.\n     */\n    function AsyncValidatorRunner(scheduler) {\n        _classCallCheck(this, AsyncValidatorRunner);\n\n        // Rx.Scheduler to be used to run the operations on\n        this.scheduler = scheduler;\n\n        // Rx.Subject that will serve as the validator pipeline\n        // The Runner passes the fields and values and emits\n        // success\n        this.validatorPipeline = new __WEBPACK_IMPORTED_MODULE_0_rx__[\"Subject\"]();\n\n        // The amount of time to be used for debouncing the field values\n        this.debounceTimeInMs = 400;\n    }\n\n    /**\n     * Run the `asyncValidators` passed for the field with `fieldName`. `fieldName` is only\n     * used to pass through to the result so `listenToValidatorsFor` can identify which field\n     * the result belong to.\n     *\n     * @param {string} fieldName The name of the field\n     * @param {Array<Function>} asyncValidators An array of functions that each return a Promise thar resolves on valid\n     * and rejects on failure.\n     * @param {*} value The value that should be checked for validity.\n     *\n     * @returns {AsyncValidatorObject} Returns itself for chaining purposes\n     */\n\n\n    _createClass(AsyncValidatorRunner, [{\n        key: 'run',\n        value: function run(fieldName) {\n            var asyncValidators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var value = arguments[2];\n\n            this.validatorPipeline.onNext({ fieldName: fieldName, asyncValidators: asyncValidators, value: value });\n\n            return this;\n        }\n\n        /**\n         * Returns an Rx.Observable that can be subscribed to to be updated of validation results for the field\n         * with `fieldName`. This function when subscribing runs the validators that are passed for the given field when\n         * `run` was called. This allows for only running the validators that are at the time the validation request was\n         * issued were applicable to the field.\n         *\n         * @param {string} fieldName The name of the field to filter statuses for.\n         * @returns {Rx.Observable} Observable that represents validation results for the given `fieldName`.\n         */\n\n    }, {\n        key: 'listenToValidatorsFor',\n        value: function listenToValidatorsFor(fieldName) {\n            return this.validatorPipeline\n            // Filter the values by fieldName to make sure we only deal with the values for the requested field\n            .filter(function (field) {\n                return field.fieldName === fieldName;\n            })\n            // Only process the latest value within the specified time window\n            .debounce(this.debounceTimeInMs, this.scheduler).map(function (field) {\n                return __WEBPACK_IMPORTED_MODULE_0_rx__[\"Observable\"].fromPromise(runValidatorFunctions(field.asyncValidators, field.value)).map(function (status) {\n                    return Object.assign(status, { fieldName: field.fieldName, value: field.value });\n                });\n            })\n            // Flatten all observables in the correct order they should be processed\n            .concatAll();\n        }\n\n        /**\n         * Creates an instance of the AsyncValidatorRunner class\n         *\n         * @param {Rx.Scheduler} scheduler A scheduler to be used while running the pipeline operations\n         * @returns {AsyncValidatorRunner} The instantiated runner\n         * @static\n         */\n\n    }], [{\n        key: 'create',\n        value: function create(scheduler) {\n            return new AsyncValidatorRunner(scheduler);\n        }\n    }]);\n\n    return AsyncValidatorRunner;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = AsyncValidatorRunner;\n\n/***/ }),\n\n/***/ 825:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__ = __webpack_require__(586);\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = AccessDenied;\n\n\n\nfunction AccessDenied() {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_1_d2_ui_lib_headings_Heading_component__[\"a\" /* default */],\n            null,\n            'Access denied!'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'p',\n            null,\n            'Unfortunately you do not have access to this functionality.'\n        )\n    );\n}\n\n/***/ }),\n\n/***/ 937:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__ = __webpack_require__(14);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 5-6f8a229cea364b1d8604.js","import React, { PropTypes } from 'react';\nimport Action from 'd2-ui/lib/action/Action';\nimport { Observable } from 'rx';\nimport { getInstance } from 'd2/lib/d2';\nimport organisationUnitLevelsStore from './organisationUnitLevels.store';\nimport TextField from 'material-ui/TextField/TextField';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport fieldOrder from '../config/field-config/field-order';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\n\nconst fieldForOrganisationUnitLevels = fieldOrder.for('organisationUnitLevel');\n\nconst actions = Action.createActionsFromNames(['initOrgUnitLevels', 'fieldUpdate', 'updateFormStatus', 'saveOrganisationUnitLevels']);\n\nfunction DropDownFieldForOfflineLevels(props) {\n    const { options, ...otherProps } = props;\n\n    const availableOptions = [{ value: undefined, text: 'Default', label: ' ' }]\n        .concat(options.map(option => ({ value: option, text: option, label: option })))\n        .map((option, index) => (\n            <MenuItem key={index} primaryText={option.text} value={option.value} label={option.label} />\n        ));\n\n    return (\n        <SelectField {...otherProps} onChange={(event, index, value) => props.onChange({ target: { value } })}>\n            {availableOptions}\n        </SelectField>\n    );\n}\nDropDownFieldForOfflineLevels.propTypes = {\n    options: PropTypes.array,\n};\n\nconst fieldOptions = new Map([\n    ['name', {\n        component: TextField,\n    }],\n    ['offlineLevels', {\n        component: DropDownFieldForOfflineLevels,\n        props: {\n            options: [\n                1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n            ],\n        },\n    }],\n]);\n\nasync function loadOrganisationUnitLevels() {\n    const d2 = await getInstance();\n    const api = d2.Api.getApi();\n\n    return await api.get('filledOrganisationUnitLevels');\n}\n\nfunction isNameUnique(name) {\n    return organisationUnitLevelsStore\n        .state\n        .fieldsForOrganisationUnitLevel\n        .map(fieldConfigs => fieldConfigs\n            .filter(fieldConfig => fieldConfig.name === 'name')\n            .some(fieldConfig => fieldConfig.value === name)\n        )\n        .every(result => result === false);\n}\n\nasync function getOrganisationUnitLevelFormFields() {\n    const d2 = await getInstance();\n\n    return fieldForOrganisationUnitLevels\n        .map(fieldName => {\n            const fieldOption = fieldOptions.get(fieldName) || {};\n\n            return {\n                name: fieldName,\n                component: fieldOption.component || TextField,\n                props: Object.assign({\n                    floatingLabelText: d2.i18n.getTranslation(camelCaseToUnderscores(fieldName)),\n                }, fieldOption.props),\n                validators: [{\n                    validator: isNameUnique,\n                    message: d2.i18n.getTranslation('value_not_unique'),\n                }],\n            };\n        });\n}\n\nconst organisationUnitLevelFormFields$ = Observable.fromPromise(getOrganisationUnitLevelFormFields());\n\nfunction getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields) {\n    return organisationUnitLevels\n        .map(ouLevel => {\n            const result = organisationUnitLevelFormFields\n                .map(fieldConfig => Object.assign({}, fieldConfig, { value: ouLevel[fieldConfig.name] }));\n\n            result.organisationUnitLevel = ouLevel;\n            return result;\n        });\n}\n\nfunction buildFormStatus({ data }) {\n    return organisationUnitLevelsStore\n        .getState()\n        .formStatus\n        .map((status, index) => {\n            if (index === data.levelIndex) {\n                return data.formStatus.valid;\n            }\n            return status;\n        });\n}\n\nactions.updateFormStatus\n    .map(buildFormStatus)\n    .subscribe((formStatusForAllLevels) => {\n        organisationUnitLevelsStore.setState(Object.assign(\n            {},\n            organisationUnitLevelsStore.getState(),\n            { formStatus: formStatusForAllLevels }\n        ));\n    });\n\nactions.initOrgUnitLevels\n    .flatMap(() => Observable.combineLatest(\n        Observable.fromPromise(loadOrganisationUnitLevels()),\n        organisationUnitLevelFormFields$,\n        (organisationUnitLevels, organisationUnitLevelFormFields) => ({ organisationUnitLevels, organisationUnitLevelFormFields })\n    ))\n    .map(({ organisationUnitLevels, organisationUnitLevelFormFields }) => {\n        const fieldConfigsForAllLevels = getFieldConfigsForAllFields(organisationUnitLevels, organisationUnitLevelFormFields);\n\n        return {\n            fieldConfigsForAllLevels,\n            organisationUnitLevels,\n        };\n    })\n    .subscribe(({ fieldConfigsForAllLevels, organisationUnitLevels }) => {\n        organisationUnitLevelsStore.setState({\n            isSaving: false,\n            isLoading: false,\n            fieldsForOrganisationUnitLevel: fieldConfigsForAllLevels,\n            formStatus: fieldConfigsForAllLevels.map(() => true),\n            organisationUnitLevels,\n        });\n    });\n\nObservable.combineLatest(\n    actions.fieldUpdate,\n    organisationUnitLevelFormFields$,\n    (action, organisationUnitLevelFormFields) => ({ action, organisationUnitLevelFormFields })\n)\n    .map(({ action, organisationUnitLevelFormFields }) => ({\n        ...action.data,\n        storeState: organisationUnitLevelsStore.getState(),\n        organisationUnitLevelFormFields,\n    }))\n    .subscribe(({ storeState, fieldName, fieldValue, organisationUnitLevel, organisationUnitLevelFormFields }) => {\n        const organisationUnitToChangeValueFor = storeState.organisationUnitLevels\n            .find(ouLevel => ouLevel === organisationUnitLevel);\n\n        if (organisationUnitToChangeValueFor && fieldName) {\n            organisationUnitToChangeValueFor[fieldName] = fieldValue;\n        }\n\n        organisationUnitLevelsStore.setState(Object.assign(\n            {},\n            storeState,\n            {\n                organisationUnitLevels: storeState.organisationUnitLevels,\n                fieldsForOrganisationUnitLevel: getFieldConfigsForAllFields(storeState.organisationUnitLevels, organisationUnitLevelFormFields),\n            }\n        ));\n    });\n\nfunction saveOrganisationUnitLevels(action) {\n    const { organisationUnitLevels, complete, error } = action;\n\n    return getInstance()\n        .then(d2 => d2.Api.getApi())\n        .then(api => api.post('filledOrganisationUnitLevels', { organisationUnitLevels }, { dataType: 'text' }))\n        .then(() => complete)\n        .catch(() => error);\n}\n\nactions.saveOrganisationUnitLevels\n    .map((action) => ({\n        organisationUnitLevels: organisationUnitLevelsStore\n            .getState()\n            .organisationUnitLevels\n            .map(({ name, level, offlineLevels }) => ({ name, level, offlineLevels })),\n        ...action,\n    }))\n    .do(() => {\n        organisationUnitLevelsStore\n            .setState({\n                ...organisationUnitLevelsStore.getState(),\n                isSaving: true,\n            });\n    })\n    .flatMap(action => Observable.fromPromise(saveOrganisationUnitLevels(action)))\n    .subscribe((callback) => {\n        callback.call();\n        actions.initOrgUnitLevels();\n    });\n\nexport default actions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/organisationUnitLevels.actions.js","import React, { PropTypes } from 'react';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport organisationUnitLevelsStore from './organisationUnitLevels.store';\nimport withStateFrom from 'd2-ui/lib/component-helpers/withStateFrom';\nimport LinearProgress from 'material-ui/LinearProgress/LinearProgress';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport actions from './organisationUnitLevels.actions';\nimport IconButton from 'material-ui/IconButton/IconButton';\nimport Paper from 'material-ui/Paper/Paper';\nimport SaveButton from '../EditModel/SaveButton.component';\nimport FormButtons from '../EditModel/FormButtons.component';\nimport snackActions from '../Snackbar/snack.actions';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\nimport TranslationDialog from 'd2-ui/lib/i18n/TranslationDialog.component';\nimport AccessDenied from '../App/AccessDenied.component';\n\nfunction saveOrganisationUnitLevels(i18n) {\n    actions.saveOrganisationUnitLevels()\n        .subscribe(\n            () => snackActions.show({ message: i18n.getTranslation('organisation_unit_levels_save_success') }),\n            () => snackActions.show({ message: i18n.getTranslation('organisation_unit_levels_save_failed'), action: 'ok' })\n        );\n}\n\nfunction OrganisationUnitLevels(props, context) {\n    const canEdit = context.d2.currentUser.canUpdate(context.d2.models.organisationUnitLevel);\n\n    if (props.isLoading) {\n        return (\n            <LinearProgress />\n        );\n    }\n\n    const styles = {\n        paperWrap: {\n            padding: '4rem 5rem',\n            maxWidth: 700,\n            marginTop: '2rem',\n        },\n        rowStyle: {\n            display: 'flex',\n            flexDirection: 'row',\n            height: '5rem',\n        },\n        formWrapStyle: {\n            flex: 1,\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        fieldWrapStyle: {\n            flex: 1,\n            paddingRight: '1rem',\n        },\n        translateButtonWrap: {\n            alignItems: 'flex-end',\n            display: 'flex',\n            flex: '5rem',\n            height: '5rem',\n            verticalAlign: 'middle',\n        },\n    };\n\n    const fieldRows = props.fieldsForOrganisationUnitLevel.map((fieldsForLevel, index) => {\n        let translateButton = null;\n        if (fieldsForLevel.organisationUnitLevel.id && canEdit) {\n            translateButton = (\n                <div style={styles.translateButtonWrap}>\n                    <IconButton iconClassName=\"material-icons\" onClick={() => props.onTranslateClick(fieldsForLevel.organisationUnitLevel)}>translate</IconButton>\n                </div>\n            );\n        }\n\n        return (\n            <div key={index} style={styles.rowStyle}>\n                <FormBuilder\n                    style={styles.formWrapStyle}\n                    fieldWrapStyle={styles.fieldWrapStyle}\n                    fields={fieldsForLevel.map(fieldConfig => ({\n                        ...fieldConfig,\n                        props: {\n                            ...fieldConfig.props,\n                            disabled: !canEdit,\n                        },\n                    }))}\n                    onUpdateField={(fieldName, fieldValue) => actions.fieldUpdate({ organisationUnitLevel: fieldsForLevel.organisationUnitLevel, fieldName, fieldValue })}\n                    onUpdateFormStatus={(formStatus) => actions.updateFormStatus({ levelIndex: index, formStatus })}\n                />\n                {translateButton}\n            </div>\n        );\n    });\n\n    return (\n        <div>\n            <Heading>{context.d2.i18n.getTranslation('organisation_unit_level_management')}</Heading>\n            <Paper style={styles.paperWrap}>\n                {fieldRows}\n                <FormButtons>\n                    {canEdit ? <SaveButton onClick={() => saveOrganisationUnitLevels(context.d2.i18n)} isValid={props.formStatus.every(v => v)} isSaving={props.isSaving} /> : []}\n                </FormButtons>\n            </Paper>\n        </div>\n    );\n}\nOrganisationUnitLevels.defaultProps = {\n    fieldsForOrganisationUnitLevel: [],\n    formStatus: [false],\n    isLoading: true,\n    isSaving: false,\n};\nOrganisationUnitLevels.propTypes = {\n    fieldsForOrganisationUnitLevel: PropTypes.array,\n    formStatus: PropTypes.array,\n    isLoading: PropTypes.bool,\n    isSaving: PropTypes.bool,\n};\n\nconst componentState$ = organisationUnitLevelsStore;\n\nconst OrganisationUnitLevelsWithState = withStateFrom(componentState$, addD2Context(OrganisationUnitLevels));\n\nexport default addD2Context(class extends React.Component {\n    constructor(...args) {\n        super(...args);\n\n        this.state = {\n            translation: {\n                open: false,\n            },\n        };\n\n        this._onTranslateClick = this._onTranslateClick.bind(this);\n        this._closeTranslationDialog = this._closeTranslationDialog.bind(this);\n        this._translationSaved = this._translationSaved.bind(this);\n        this._translationErrored = this._translationErrored.bind(this);\n    }\n\n    componentDidMount() {\n        actions.initOrgUnitLevels();\n    }\n\n    render() {\n\n        return (\n            <div>\n                <OrganisationUnitLevelsWithState onTranslateClick={this._onTranslateClick} />\n                {this.state.translation.model ? <TranslationDialog\n                    objectToTranslate={this.state.translation.model}\n                    objectTypeToTranslate={this.state.translation.model && this.state.translation.model.modelDefinition}\n                    open={this.state.translation.open}\n                    onTranslationSaved={this._translationSaved}\n                    onTranslationError={this._translationErrored}\n                    onRequestClose={this._closeTranslationDialog}\n                    fieldsToTranslate={['name']}\n                /> : null }\n            </div>\n        );\n    }\n\n    _onTranslateClick(data) {\n        const model = this.context.d2.models.organisationUnitLevel.create(data);\n\n        this.setState({\n            translation: {\n                open: true,\n                model,\n            },\n        });\n    }\n\n    _translationSaved() {\n        snackActions.show({ message: this.context.d2.i18n.getTranslation('translation_saved') });\n    }\n\n    _translationErrored() {\n        snackActions.show({ message: this.context.d2.i18n.getTranslation('translation_save_error'), action: 'ok' });\n    }\n\n    _closeTranslationDialog() {\n        this.setState({\n            translation: {\n                open: false,\n                model: undefined,\n            },\n        });\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/OrganisationUnitLevels.component.js","import React from 'react';\n\nvar Translate = {\n    contextTypes: {\n        d2: React.PropTypes.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\nexport default Translate;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/Translate.mixin.js\n// module id = 585\n// module chunks = 0 1 2 3 4 5 6 7 9","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport { PropTypes, default as React } from 'react';\n\nfunction Heading(props) {\n    var level = props.level,\n        text = props.text,\n        style = props.style,\n        children = props.children,\n        other = _objectWithoutProperties(props, ['level', 'text', 'style', 'children']);\n\n    var tag = { type: level <= 6 ? 'h' + level : 'span' };\n    var headingStyle = _extends({\n        fontSize: 24,\n        fontWeight: 300,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '16px 0 5px 0',\n        margin: 0\n    }, style);\n\n    return React.createElement(\n        tag.type,\n        _extends({}, other, { style: headingStyle }),\n        children || text\n    );\n}\nHeading.propTypes = {\n    level: PropTypes.oneOf([1, 2, 3, 4, 5, 6]),\n    text: PropTypes.string\n};\nHeading.defaultProps = {\n    level: 1\n};\n\nexport default Heading;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/headings/Heading.component.js\n// module id = 586\n// module chunks = 0 1 2 3 4 5 7 8 10","const fieldOrderByName = new Map([\n    ['dataElement', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'formName',\n        'domainType',\n        'valueType',\n        'aggregationType',\n        'zeroIsSignificant',\n        'url',\n        'categoryCombo',\n        'optionSet',\n        'commentOptionSet',\n        'legendSets',\n        'aggregationLevels',\n    ]],\n    ['dataElementGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataElements',\n    ]],\n    ['dataElementGroupSet', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'compulsory',\n        'dataDimension',\n        'dataElementGroups',\n    ]],\n    ['category', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataDimensionType',\n        'dataDimension',\n        'categoryOptions',\n    ]],\n    ['categoryOption', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'startDate',\n        'endDate',\n        'organisationUnits',\n    ]],\n    ['categoryCombo', [\n        'name',\n        'shortName',\n        'code',\n        'dataDimensionType',\n        'skipTotal',\n        'categories',\n    ]],\n    ['categoryOptionGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'dataDimensionType',\n        'categoryOptions',\n    ]],\n    ['categoryOptionGroupSet', [\n        'name',\n        'description',\n        'dataDimension',\n        'dataDimensionType',\n        'categoryOptionGroups',\n    ]],\n    ['indicator', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'annualized',\n        'decimals',\n        'indicatorType',\n        'legendSets',\n        'url',\n        'aggregateExportCategoryOptionCombo',\n        'aggregateExportAttributeOptionCombo',\n    ]],\n    ['indicatorGroup', [\n        'name',\n        'indicators',\n    ]],\n    ['indicatorType', [\n        'name',\n        'factor',\n    ]],\n    ['indicatorGroupSet', [\n        'name',\n        'description',\n        'compulsory',\n        'indicatorGroups',\n    ]],\n    ['dataSet', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'expiryDays',\n        'openFuturePeriods',\n        'timelyDays',\n        'periodType',\n        'dataInputPeriods',\n        'categoryCombo',\n        'notificationRecipients',\n        'notifyCompletingUser',\n        'workflow',\n        'mobile',\n        'fieldCombinationRequired',\n        'validCompleteOnly',\n        'noValueRequiresComment',\n        'legendSets',\n        'skipOffline',\n        'dataElementDecoration',\n        'renderAsTabs',\n        'renderHorizontally',\n        'dataSetElements',\n        'indicators',\n        'organisationUnits',\n    ]],\n    ['organisationUnit', [\n        'parent',\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'openingDate',\n        'closedDate',\n        'comment',\n        'url',\n        'contactPerson',\n        'address',\n        'email',\n        'phoneNumber',\n        'coordinates',\n        'dataSets',\n    ]],\n    ['organisationUnitGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'symbol',\n        'organisationUnits',\n    ]],\n    ['organisationUnitGroupSet', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'compulsory',\n        'dataDimension',\n        'includeSubhierarchyInAnalytics',\n        'organisationUnitGroups',\n    ]],\n    ['organisationUnitLevel', [\n        'name',\n        'offlineLevels',\n    ]],\n    ['constant', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'value',\n    ]],\n    ['attribute', [\n        'name',\n        'code',\n        'valueType',\n        'optionSet',\n        'mandatory',\n        'unique',\n        'dataElementAttribute',\n        'dataElementGroupAttribute',\n        'dataElementGroupSetAttribute',\n        'indicatorAttribute',\n        'indicatorGroupAttribute',\n        'dataSetAttribute',\n        'organisationUnitAttribute',\n        'organisationUnitGroupAttribute',\n        'organisationUnitGroupSetAttribute',\n        'userAttribute',\n        'userGroupAttribute',\n        'programAttribute',\n        'programIndicatorAttribute',\n        'programStageAttribute',\n        'trackedEntityAttribute',\n        'trackedEntityAttributeAttribute',\n        'categoryAttribute',\n        'categoryOptionAttribute',\n        'categoryOptionComboAttribute',\n        'categoryOptionGroupAttribute',\n        'documentAttribute',\n        'optionAttribute',\n        'optionSetAttribute',\n        'constantAttribute',\n        'legendSetAttribute',\n        'validationRuleAttribute',\n    ]],\n    ['optionSet', [\n        'name',\n        'code',\n        'description',\n        'valueType',\n    ]],\n    ['legendSet', [\n        'name',\n        'code',\n        'legends',\n    ]],\n    ['trackedEntityAttribute', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'optionSet',\n        'valueType',\n        'aggregationType',\n        'unique',\n        'inherit',\n        'confidential',\n        'displayInListNoProgram',\n        'legendSets',\n    ]],\n    ['trackedEntityAttributeGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'trackedEntityAttributes',\n    ]],\n    ['relationshipType', [\n        'name',\n        'code',\n        'aIsToB',\n        'bIsToA',\n    ]],\n    ['trackedEntity', [\n        'name',\n        'description',\n    ]],\n    ['validationRule', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'importance',\n        'ruleType',\n        'importance',\n        'ruleType',\n        'periodType',\n        'operator',\n        'leftSide',\n        'rightSide',\n    ]],\n    ['validationRuleGroup', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'validationRules',\n    ]],\n    ['predictor', [\n        'name',\n        'shortName',\n        'code',\n        'description',\n        'output',\n        'periodType',\n        'organisationUnitLevels',\n        'generator',\n        'sampleSkipTest',\n        'sequentialSampleCount',\n        'annualSampleCount',\n        'sequentialSkipCount',\n    ]],\n    ['pushAnalysis', [\n        'name',\n        'code',\n        'title',\n        'message',\n        'dashboard',\n        'recipientUserGroups',\n        'schedulingFrequency',\n        'enabled',\n    ]],\n    ['externalMapLayer', [\n        'name',\n        'code',\n        'mapService',\n        'imageFormat',\n        'url',\n        'attribution',\n        'mapLayerPosition',\n        'legendSet',\n        'legendSetUrl',\n    ]],\n    ['validationNotificationTemplate', [\n        'name',\n        'code',\n        'validationRules',\n        'recipientUserGroups',\n        'notifyUsersInHierarchyOnly',\n        'messageTemplate',\n    ]]\n]);\n\nexport default {\n    /**\n     * @method\n     *\n     * @params {String} schemaName The name of the schema for which to get the field order\n     * @returns {Array} An arraylist of field names\n     * This can be used to set field order on the `FormFieldsManager`\n     *\n     * @example\n     * ```\n     * import fieldOverrides from 'field-overrides';\n     *\n     * let dataElementOverrides = fieldOverrides.for('dataElement');\n     * ```\n     */\n    for(schemaName) {\n        if (schemaName && fieldOrderByName.has(schemaName)) {\n            return fieldOrderByName.get(schemaName);\n        }\n        return ['name', 'shortName', 'code'];\n    },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/field-config/field-order.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nimport Translate from '../i18n/Translate.mixin';\n\nexport default React.createClass({\n    displayName: 'LocaleSelector.component',\n\n    propTypes: {\n        value: React.PropTypes.string,\n        locales: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            locale: React.PropTypes.string.isRequired\n        })).isRequired,\n        onChange: React.PropTypes.func.isRequired\n    },\n\n    mixins: [Translate],\n\n    render: function render() {\n        var localeMenuItems = [{ payload: '', text: '' }].concat(this.props.locales).map(function (locale, index) {\n            return React.createElement(MenuItem, {\n                key: index,\n                primaryText: locale.name,\n                value: locale.locale\n            });\n        });\n\n        return React.createElement(\n            SelectField,\n            _extends({\n                fullWidth: true\n            }, this.props, {\n                value: this.state && this.state.locale,\n                hintText: this.getTranslation('select_locale'),\n                onChange: this._localeChange\n            }),\n            localeMenuItems\n        );\n    },\n    _localeChange: function _localeChange(event, index, locale) {\n        this.setState({\n            locale: locale\n        });\n\n        this.props.onChange(locale, event);\n    }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/LocaleSelector.component.js\n// module id = 723\n// module chunks = 1 2 3 4 5","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport { config } from 'd2/lib/d2';\nimport Dialog from 'material-ui/Dialog/Dialog';\nimport React, { PropTypes, Component } from 'react';\nimport { getTranslationFormFor } from './TranslationForm.component';\n\nconfig.i18n.strings.add('close');\nconfig.i18n.strings.add('sharing_settings');\n\nvar TranslationDialog = function (_Component) {\n    _inherits(TranslationDialog, _Component);\n\n    function TranslationDialog(props, context) {\n        _classCallCheck(this, TranslationDialog);\n\n        var _this = _possibleConstructorReturn(this, (TranslationDialog.__proto__ || Object.getPrototypeOf(TranslationDialog)).call(this, props, context));\n\n        _this.i18n = context.d2.i18n;\n\n        _this.state = {\n            TranslationForm: getTranslationFormFor(_this.props.objectToTranslate)\n        };\n\n        _this.translationSaved = _this.translationSaved.bind(_this);\n        _this.translationError = _this.translationError.bind(_this);\n        _this.closeSharingDialog = _this.closeSharingDialog.bind(_this);\n        return _this;\n    }\n\n    _createClass(TranslationDialog, [{\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                Dialog,\n                _extends({\n                    title: this.i18n.getTranslation('translation_dialog_title'),\n                    autoDetectWindowHeight: true,\n                    autoScrollBodyContent: true\n                }, this.props),\n                React.createElement(this.state.TranslationForm, {\n                    onTranslationSaved: this.translationSaved,\n                    onTranslationError: this.translationError,\n                    onCancel: this.closeSharingDialog,\n                    fieldsToTranslate: this.props.fieldsToTranslate\n                })\n            );\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.objectToTranslate) {\n                this.setState({\n                    TranslationForm: getTranslationFormFor(newProps.objectToTranslate)\n                });\n            }\n        }\n    }, {\n        key: 'closeSharingDialog',\n        value: function closeSharingDialog() {\n            this.props.onRequestClose();\n        }\n    }, {\n        key: 'translationSaved',\n        value: function translationSaved() {\n            this.props.onTranslationSaved();\n            this.closeSharingDialog();\n        }\n    }, {\n        key: 'translationError',\n        value: function translationError() {\n            this.props.onTranslationError();\n        }\n    }]);\n\n    return TranslationDialog;\n}(Component);\n\nexport default TranslationDialog;\n\n\nTranslationDialog.propTypes = {\n    objectToTranslate: React.PropTypes.shape({\n        id: React.PropTypes.string.isRequired\n    }).isRequired,\n    onTranslationSaved: React.PropTypes.func.isRequired,\n    onTranslationError: React.PropTypes.func.isRequired,\n    open: React.PropTypes.bool,\n    onRequestClose: React.PropTypes.func.isRequired,\n    fieldsToTranslate: React.PropTypes.array\n};\n\nTranslationDialog.contextTypes = {\n    d2: PropTypes.object\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationDialog.component.js\n// module id = 724\n// module chunks = 1 2 3 4 5","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport TextField from 'material-ui/TextField/TextField';\nimport Translate from '../i18n/Translate.mixin';\nimport LocaleSelector from '../i18n/LocaleSelector.component';\nimport { getLocales, getTranslationsForModel, saveTranslations } from './translationForm.actions';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport withStateFrom from '../component-helpers/withStateFrom';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport { Observable } from 'rx';\nimport Store from '../store/Store';\n\nfunction getTranslationFormData(model) {\n    var translationStore = Store.create();\n\n    getTranslationsForModel(model).subscribe(function (translations) {\n        translationStore.setState(translations);\n    });\n\n    return Observable.combineLatest(getLocales(), translationStore, function () {\n        for (var _len = arguments.length, data = Array(_len), _key = 0; _key < _len; _key++) {\n            data[_key] = arguments[_key];\n        }\n\n        return Object.assign.apply(Object, [{\n            objectToTranslate: model,\n            setTranslations: function setTranslations(translations) {\n                translationStore.setState({\n                    translations: translations\n                });\n            }\n        }].concat(data));\n    });\n}\n\nvar TranslationForm = React.createClass({\n    displayName: 'TranslationForm',\n\n    propTypes: {\n        onTranslationSaved: React.PropTypes.func.isRequired,\n        onTranslationError: React.PropTypes.func.isRequired,\n        objectToTranslate: React.PropTypes.shape({\n            id: React.PropTypes.string.isRequired\n        }),\n        fieldsToTranslate: React.PropTypes.arrayOf(React.PropTypes.string)\n    },\n\n    mixins: [Translate],\n\n    getInitialState: function getInitialState() {\n        return {\n            loading: true,\n            translations: {},\n            translationValues: {},\n            currentSelectedLocale: ''\n        };\n    },\n    getDefaultProps: function getDefaultProps() {\n        return {\n            fieldsToTranslate: ['name', 'shortName', 'description']\n        };\n    },\n    getLoadingdataElement: function getLoadingdataElement() {\n        return React.createElement(\n            'div',\n            { style: { textAlign: 'center' } },\n            React.createElement(CircularProgress, { mode: 'indeterminate' })\n        );\n    },\n    renderFieldsToTranslate: function renderFieldsToTranslate() {\n        var _this = this;\n\n        return this.props.fieldsToTranslate.filter(function (fieldName) {\n            return fieldName;\n        }).map(function (fieldName) {\n            return React.createElement(\n                'div',\n                { key: fieldName },\n                React.createElement(TextField, { floatingLabelText: _this.getTranslation(camelCaseToUnderscores(fieldName)),\n                    value: _this.getTranslationValueFor(fieldName),\n                    fullWidth: true,\n                    onChange: _this._setValue.bind(_this, fieldName)\n                }),\n                React.createElement(\n                    'div',\n                    null,\n                    _this.props.objectToTranslate[fieldName]\n                )\n            );\n        });\n    },\n    renderForm: function renderForm() {\n        return React.createElement(\n            'div',\n            null,\n            this.renderFieldsToTranslate(),\n            React.createElement(RaisedButton, {\n                label: this.getTranslation('save'),\n                primary: true,\n                onClick: this._saveTranslations\n            }),\n            React.createElement(RaisedButton, {\n                style: { marginLeft: '1rem' },\n                label: this.getTranslation('cancel'),\n                onClick: this.props.onCancel\n            })\n        );\n    },\n    renderHelpText: function renderHelpText() {\n        return React.createElement(\n            'div',\n            null,\n            React.createElement(\n                'p',\n                null,\n                this.getTranslation('select_a_locale_to_enter_translations_for_that_language')\n            )\n        );\n    },\n    render: function render() {\n        if (!this.props.locales && !this.props.translations) {\n            return this.getLoadingdataElement();\n        }\n\n        return React.createElement(\n            'div',\n            { style: { minHeight: 250 } },\n            React.createElement(LocaleSelector, { locales: this.props.locales, onChange: this.setCurrentLocale }),\n            Boolean(this.state.currentSelectedLocale) ? this.renderForm() : this.renderHelpText()\n        );\n    },\n    getTranslationValueFor: function getTranslationValueFor(fieldName) {\n        var _this2 = this;\n\n        var translation = this.props.translations.find(function (t) {\n            return t.locale === _this2.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(fieldName);\n        });\n\n        if (translation) {\n            return translation.value;\n        }\n    },\n    setCurrentLocale: function setCurrentLocale(locale) {\n        this.setState({\n            currentSelectedLocale: locale\n        });\n    },\n    _setValue: function _setValue(property, event) {\n        var _this3 = this;\n\n        var newTranslations = [].concat(this.props.translations);\n        var translation = newTranslations.find(function (t) {\n            return t.locale === _this3.state.currentSelectedLocale && t.property.toLowerCase() === camelCaseToUnderscores(property);\n        });\n\n        if (translation) {\n            if (event.target.value) {\n                translation.value = event.target.value;\n            } else {\n                // Remove translation from the array\n                newTranslations = newTranslations.filter(function (t) {\n                    return t !== translation;\n                });\n            }\n        } else {\n            translation = {\n                property: camelCaseToUnderscores(property).toUpperCase(),\n                locale: this.state.currentSelectedLocale,\n                value: event.target.value\n            };\n\n            newTranslations.push(translation);\n        }\n\n        this.props.setTranslations(newTranslations);\n    },\n    _saveTranslations: function _saveTranslations() {\n        saveTranslations(this.props.objectToTranslate, this.props.translations).subscribe(this.props.onTranslationSaved, this.props.onTranslationError);\n    }\n});\n\nexport default TranslationForm;\n\nexport function getTranslationFormFor(model) {\n    return withStateFrom(getTranslationFormData(model), TranslationForm);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/TranslationForm.component.js\n// module id = 725\n// module chunks = 1 2 3 4 5","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport Action from '../action/Action';\nimport { getInstance as getD2 } from 'd2/lib/d2';\nimport { Observable } from 'rx';\nimport { getInstance } from 'd2/lib/d2';\n\nexport function getLocales() {\n    if (!getLocales.localePromise) {\n        getLocales.localePromise = getD2().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get('locales/db');\n        }).then(function (locales) {\n            return {\n                locales: locales\n            };\n        });\n    }\n\n    return Observable.fromPromise(getLocales.localePromise);\n}\n\nfunction getModelHref(model) {\n    if (model.href) {\n        return model.href;\n    }\n\n    return model.modelDefinition.apiEndpoint + '/' + model.id;\n}\n\nexport function getTranslationsForModel(model) {\n    return Observable.just(model).flatMap(function (model) {\n        var modelDefinition = model.modelDefinition;\n\n        if (!modelDefinition && !modelDefinition.name) {\n            return Promise.reject(new Error('Can not find modelDefinition for ' + model.id));\n        }\n\n        return getInstance().then(function (d2) {\n            var api = d2.Api.getApi();\n\n            return api.get(getModelHref(model) + '/translations');\n        });\n    });\n}\n\nexport var saveTranslations = Action.create('saveTranslations');\n\nsaveTranslations.subscribe(function (_ref) {\n    var _ref$data = _slicedToArray(_ref.data, 2),\n        model = _ref$data[0],\n        translations = _ref$data[1],\n        complete = _ref.complete,\n        error = _ref.error;\n\n    var translationHref = getModelHref(model) + '/translations';\n\n    getInstance().then(function (d2) {\n        var api = d2.Api.getApi();\n\n        api.update(translationHref, { translations: translations }, { dataType: 'text' }).then(complete).catch(error);\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/translationForm.actions.js\n// module id = 726\n// module chunks = 1 2 3 4 5","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport AsyncValidatorRunner from './AsyncValidatorRunner';\nimport { isObject } from 'lodash';\n\nimport CircularProgres from 'material-ui/CircularProgress';\n\nvar noop = function noop() {};\n\nvar FormBuilder = function (_React$Component) {\n    _inherits(FormBuilder, _React$Component);\n\n    function FormBuilder(props) {\n        _classCallCheck(this, FormBuilder);\n\n        var _this = _possibleConstructorReturn(this, (FormBuilder.__proto__ || Object.getPrototypeOf(FormBuilder)).call(this, props));\n\n        _this.state = _this.initState(props);\n        _this.asyncValidators = _this.createAsyncValidators(props);\n        _this.asyncValidationRunner = props.asyncValidationRunner || new AsyncValidatorRunner();\n\n        _this.getFieldProp = _this.getFieldProp.bind(_this);\n        _this.getStateClone = _this.getStateClone.bind(_this);\n        return _this;\n    }\n\n    /**\n     * Called by React when the component receives new props, but not on the initial render.\n     *\n     * State is calculated based on the incoming props, in such a way that existing form fields\n     * are updated as necessary, but not overridden. See the initState function for details.\n     *\n     * @param props\n     */\n\n\n    _createClass(FormBuilder, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(props) {\n            var _this2 = this;\n\n            this.asyncValidators = this.createAsyncValidators(props);\n\n            var clonedState = this.getStateClone();\n\n            props.fields\n            // Only check fields that are set on the component state\n            .filter(function (field) {\n                return _this2.state && _this2.state.fields && _this2.state.fields[field.name];\n            })\n            // Filter out fields where the values changed\n            .filter(function (field) {\n                return field.value !== _this2.state.fields[field.name].value;\n            })\n            // Change field value and run validators for the field\n            .forEach(function (field) {\n                clonedState.fields[field.name].value = field.value;\n                _this2.validateField(clonedState, field.name, field.value);\n            });\n\n            this.setState(clonedState);\n        }\n\n        /**\n         * Custom state deep copy function\n         *\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'getStateClone',\n        value: function getStateClone() {\n            var _this3 = this;\n\n            return {\n                form: {\n                    pristine: this.state.form.pristine,\n                    valid: this.state.form.valid,\n                    validating: this.state.form.validating\n                },\n                fields: Object.keys(this.state.fields).reduce(function (p, c) {\n                    p[c] = {\n                        pristine: _this3.state.fields[c].pristine,\n                        validating: _this3.state.fields[c].validating,\n                        valid: _this3.state.fields[c].valid,\n                        value: _this3.state.fields[c].value,\n                        error: _this3.state.fields[c].error\n                    };\n                    return p;\n                }, {})\n            };\n        }\n\n        /**\n         * Render the form fields.\n         *\n         * @returns {*} An array containing markup for each form field\n         */\n\n    }, {\n        key: 'renderFields',\n        value: function renderFields() {\n            var _this4 = this;\n\n            var styles = {\n                field: {\n                    position: 'relative'\n                },\n                progress: this.props.validatingProgressStyle,\n                validatingErrorStyle: {\n                    color: 'orange'\n                }\n            };\n\n            return this.props.fields.map(function (field) {\n                var _ref = field.props || {},\n                    errorTextProp = _ref.errorTextProp,\n                    props = _objectWithoutProperties(_ref, ['errorTextProp']);\n\n                var fieldState = _this4.state.fields[field.name] || {};\n\n                var changeHandler = _this4.handleFieldChange.bind(_this4, field.name);\n\n                var onBlurChangeHandler = props.changeEvent === 'onBlur' ? function (e) {\n                    var stateClone = _this4.updateFieldState(_this4.getStateClone(), field.name, { value: e.target.value });\n                    _this4.validateField(stateClone, field.name, e.target.value);\n                    _this4.setState(stateClone);\n                } : undefined;\n\n                var errorText = fieldState && fieldState.validating ? field.validatingLabelText || _this4.props.validatingLabelText : errorTextProp;\n\n                return React.createElement(\n                    'div',\n                    { key: field.name, style: Object.assign({}, styles.field, _this4.props.fieldWrapStyle) },\n                    fieldState.validating ? React.createElement(CircularProgres, { mode: 'indeterminate', size: 0.33, style: styles.progress }) : undefined,\n                    React.createElement(field.component, _extends({\n                        value: fieldState.value,\n                        onChange: props.changeEvent && props.changeEvent === 'onBlur' ? onBlurChangeHandler : changeHandler,\n                        onBlur: props.changeEvent && props.changeEvent === 'onBlur' ? changeHandler : undefined,\n                        errorStyle: fieldState.validating ? styles.validatingErrorStyle : undefined,\n                        errorText: fieldState.valid ? errorText : fieldState.error\n                    }, props))\n                );\n            });\n        }\n\n        /**\n         * Render the component\n         *\n         * @returns {XML}\n         */\n\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'div',\n                { style: this.props.style },\n                this.renderFields()\n            );\n        }\n\n        /**\n         * Calculates initial state based on the provided props and the existing state, if any.\n         *\n         * @param props\n         * @returns {{form: {pristine: (boolean), valid: (boolean), validating: (boolean)}, fields: *}}\n         */\n\n    }, {\n        key: 'initState',\n        value: function initState(props) {\n            var _this5 = this;\n\n            var state = {\n                fields: props.fields.reduce(function (fields, field) {\n                    var currentFieldState = _this5.state && _this5.state.fields && _this5.state.fields[field.name];\n                    return Object.assign(fields, _defineProperty({}, field.name, {\n                        value: currentFieldState !== undefined && !currentFieldState.pristine ? currentFieldState.value : field.value,\n                        pristine: currentFieldState !== undefined ? currentFieldState.value === field.value : true,\n                        validating: currentFieldState !== undefined ? currentFieldState.validating : false,\n                        valid: currentFieldState !== undefined ? currentFieldState.valid : true,\n                        error: currentFieldState && currentFieldState.error || undefined\n                    }));\n                }, {})\n            };\n            state.form = {\n                pristine: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].pristine;\n                }, true),\n                validating: Object.keys(state.fields).reduce(function (p, c) {\n                    return p || state.fields[c].validating;\n                }, false),\n                valid: Object.keys(state.fields).reduce(function (p, c) {\n                    return p && state.fields[c].valid;\n                }, true)\n            };\n            return state;\n        }\n\n        /**\n         * Create an object with a property for each field that has async validators, which is later used\n         * to store Rx.Observable's for any currently running async validators\n         *\n         * @param props\n         * @returns {*}\n         */\n\n    }, {\n        key: 'createAsyncValidators',\n        value: function createAsyncValidators(props) {\n            var _this6 = this;\n\n            return props.fields.filter(function (field) {\n                return Array.isArray(field.asyncValidators) && field.asyncValidators.length;\n            }).reduce(function (p, currentField) {\n                p[currentField.name] = _this6.asyncValidators && _this6.asyncValidators[currentField.name] || undefined;\n                return p;\n            }, {});\n        }\n\n        /**\n         * Cancel the currently running async validators for the specified field name, if any.\n         *\n         * @param fieldName\n         */\n\n    }, {\n        key: 'cancelAsyncValidators',\n        value: function cancelAsyncValidators(fieldName) {\n            if (this.asyncValidators[fieldName]) {\n                this.asyncValidators[fieldName].dispose();\n                this.asyncValidators[fieldName] = undefined;\n            }\n        }\n\n        /**\n         * Utility method to mutate the provided state object in place\n         *\n         * @param state A state object\n         * @param fieldName A valid field name\n         * @param fieldState Mutations to apply to the specified field name\n         * @returns {*} A reference to the mutated state object for chaining\n         */\n\n    }, {\n        key: 'updateFieldState',\n        value: function updateFieldState(state, fieldName, fieldState) {\n            var fieldProp = this.getFieldProp(fieldName);\n            state.fields[fieldName] = {\n                pristine: fieldState.pristine !== undefined ? !!fieldState.pristine : state.fields[fieldName].value === fieldProp.value,\n                validating: fieldState.validating !== undefined ? !!fieldState.validating : state.fields[fieldName].validating,\n                valid: fieldState.valid !== undefined ? !!fieldState.valid : state.fields[fieldName].valid,\n                error: fieldState.error,\n                value: fieldState.value !== undefined ? fieldState.value : state.fields[fieldName].value\n            };\n\n            // Form state is a composite of field states\n            var fieldNames = Object.keys(state.fields);\n            state.form = {\n                pristine: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].pristine;\n                }, true),\n                validating: fieldNames.reduce(function (p, current) {\n                    return p || state.fields[current].validating;\n                }, false),\n                valid: fieldNames.reduce(function (p, current) {\n                    return p && state.fields[current].valid;\n                }, true)\n            };\n\n            return state;\n        }\n\n        /**\n         * Field value change event\n         *\n         * This is called whenever the value of the specified field has changed. This will be the onChange event handler, unless\n         * the changeEvent prop for this field is set to 'onBlur'.\n         *\n         * The change event is processed as follows:\n         *\n         * - If the value hasn't actually changed, processing stops\n         * - The field status is set to [not pristine]\n         * - Any currently running async validators are cancelled\n         *\n         * - All synchronous validators are called in the order specified\n         * - If a validator fails:\n         *    - The field status is set to invalid\n         *    - The field error message is set to the error message for the validator that failed\n         *    - Processing stops\n         *\n         * - If all synchronous validators pass:\n         *    - The field status is set to [valid]\n         *    - If there are NO async validators for the field:\n         *       - The onUpdateField callback is called, and processing is finished\n         *\n         * - If there ARE async validators for the field:\n         *    - All async validators are started immediately\n         *    - The field status is set to [valid, validating]\n         *    - The validators keep running asynchronously, but the handleFieldChange function terminates\n         *\n         * - The async validators keep running in the background until ONE of them fail, or ALL of them succeed:\n         * - The first async validator to fail causes all processing to stop:\n         *    - The field status is set to [invalid, not validating]\n         *    - The field error message is set to the value that the validator rejected with\n         * - If all async validators complete successfully:\n         *    - The field status is set to [valid, not validating]\n         *    - The onUpdateField callback is called\n         *\n         * @param fieldName The name of the field that changed.\n         * @param event An event object. Only `event.target.value` is used.\n         */\n\n    }, {\n        key: 'handleFieldChange',\n        value: function handleFieldChange(fieldName, event) {\n            var _this7 = this;\n\n            var newValue = event.target.value;\n\n            var field = this.getFieldProp(fieldName);\n\n            // If the field has changeEvent=onBlur the change handler is triggered whenever the field loses focus.\n            // So if the value didn't actually change, abort the change handler here.\n            if (field.props && field.props.changeEvent === 'onBlur' && newValue === field.value) {\n                return;\n            }\n\n            // Using custom clone function to maximize speed, albeit more error prone\n            var stateClone = this.getStateClone();\n\n            // Update value, and set pristine to false\n            this.setState(this.updateFieldState(stateClone, fieldName, { pristine: false, value: newValue }), function () {\n                if (!isObject(newValue) && newValue === (!!field.value ? field.value : '')) {\n                    _this7.props.onUpdateField(fieldName, newValue);\n                    return;\n                }\n\n                // Cancel async validators in progress (if any)\n                if (_this7.asyncValidators[fieldName]) {\n                    _this7.cancelAsyncValidators(fieldName);\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { validating: false }));\n                }\n\n                // Run synchronous validators\n                var validatorResult = _this7.validateField(stateClone, fieldName, newValue);\n\n                // Async validators - only run if sync validators pass\n                if (validatorResult === true) {\n                    _this7.runAsyncValidators(field, stateClone, fieldName, newValue);\n                } else {\n                    // Sync validators failed set field status to false\n                    _this7.setState(_this7.updateFieldState(stateClone, fieldName, { valid: false, error: validatorResult }), function () {\n                        // Also emit when the validator result is false\n                        _this7.props.onUpdateFormStatus(_this7.state.form);\n                        _this7.props.onUpdateField(fieldName, newValue);\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'runAsyncValidators',\n        value: function runAsyncValidators(field, stateClone, fieldName, newValue) {\n            var _this8 = this;\n\n            if ((field.asyncValidators || []).length > 0) {\n                // Set field and form state to 'validating'\n                this.setState(this.updateFieldState(stateClone, fieldName, { validating: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n\n                    // TODO: Subscription to validation results could be done once in `componentDidMount` and be\n                    // disposed in the `componentWillUnmount` method. This way we don't have to create the\n                    // subscription every time the field is changed.\n                    _this8.asyncValidators[fieldName] = _this8.asyncValidationRunner.listenToValidatorsFor(fieldName).subscribe(function (status) {\n                        _this8.setState(_this8.updateFieldState(_this8.getStateClone(), status.fieldName, {\n                            validating: false,\n                            valid: status.isValid,\n                            error: status.message\n                        }), function () {\n                            _this8.cancelAsyncValidators(status.fieldName);\n                            _this8.props.onUpdateFormStatus(_this8.state.form);\n                        });\n                    });\n\n                    _this8.asyncValidationRunner.run(fieldName, field.asyncValidators, newValue);\n                });\n            } else {\n                this.setState(this.updateFieldState(stateClone, fieldName, { valid: true }), function () {\n                    _this8.props.onUpdateFormStatus(_this8.state.form);\n                    _this8.props.onUpdateField(fieldName, newValue);\n                });\n            }\n        }\n\n        /**\n         * Run all synchronous validators (if any) for the field and value, and update the state clone depending on the\n         * outcome\n         *\n         * @param stateClone A clone of the current state\n         * @param fieldName The name of the field to validate\n         * @param newValue The value to validate\n         * @returns {true|String} The error message from the first validator that fails, or true if they all pass\n         */\n\n    }, {\n        key: 'validateField',\n        value: function validateField(stateClone, fieldName, newValue) {\n            var field = this.getFieldProp(fieldName);\n\n            var validatorResult = (field.validators || []).reduce(function (pass, currentValidator) {\n                return pass === true ? currentValidator.validator(newValue) === true || currentValidator.message : pass;\n            }, true);\n\n            this.updateFieldState(stateClone, fieldName, {\n                valid: validatorResult === true,\n                error: validatorResult === true ? undefined : validatorResult\n            });\n\n            return validatorResult;\n        }\n\n        /**\n         * Retreive the field that has the specified field name\n         *\n         * @param fieldName\n         * @returns {}\n         */\n\n    }, {\n        key: 'getFieldProp',\n        value: function getFieldProp(fieldName) {\n            return this.props.fields.filter(function (f) {\n                return f.name === fieldName;\n            })[0];\n        }\n    }]);\n\n    return FormBuilder;\n}(React.Component);\n\n/**\n * Component prop types\n * @type {{fields: (Object|isRequired), validatingLabelText: *, validatingProgressStyle: *, onUpdateField: (Function|isRequired)}}\n */\n\n\nFormBuilder.propTypes = {\n    fields: React.PropTypes.arrayOf(React.PropTypes.shape({\n        name: React.PropTypes.string.isRequired,\n        value: React.PropTypes.any,\n        component: React.PropTypes.func.isRequired,\n        props: React.PropTypes.shape({\n            changeEvent: React.PropTypes.oneOf(['onChange', 'onBlur'])\n        }),\n        validators: React.PropTypes.arrayOf(React.PropTypes.shape({\n            validator: React.PropTypes.func.isRequired,\n            message: React.PropTypes.string.isRequired\n        })),\n        asyncValidators: React.PropTypes.arrayOf(React.PropTypes.func.isRequired),\n        validatingLabelText: React.PropTypes.string\n    })).isRequired,\n    validatingLabelText: React.PropTypes.string,\n    validatingProgressStyle: React.PropTypes.object,\n    onUpdateField: React.PropTypes.func.isRequired,\n    onUpdateFormStatus: React.PropTypes.func,\n    style: React.PropTypes.object,\n    fieldWrapStyle: React.PropTypes.object\n};\n\n/**\n * Default values for optional props\n * @type {{validatingLabelText: string, validatingProgressStyle: {position: string, right: number, top: number}}}\n */\nFormBuilder.defaultProps = {\n    validatingLabelText: 'Validating...',\n    validatingProgressStyle: {\n        position: 'absolute',\n        right: -12,\n        top: 16\n    },\n    onUpdateFormStatus: noop\n};\n\nexport default FormBuilder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/forms/FormBuilder.component.js\n// module id = 741\n// module chunks = 0 1 5","import React from 'react';\nimport isArray from 'd2-utilizr/lib/isArray';\n\nexport default function FormButtons(props) {\n    const defaultStyle = {\n        marginTop: '1rem',\n    };\n\n    const buttonStyle = {\n        marginRight: '1rem',\n        width: '10rem',\n    };\n\n    const buttonsToRender = isArray(props.children) ? props.children : [props.children];\n\n    return (\n        <div style={Object.assign(defaultStyle, props.style)}>\n            {buttonsToRender.map((child, index) => {\n                return React.cloneElement(child, {\n                    style: buttonStyle,\n                    key: index,\n                });\n            })}\n        </div>\n    );\n}\nFormButtons.propTypes = {\n    style: React.PropTypes.object,\n    children: React.PropTypes.oneOfType([\n        React.PropTypes.array,\n        React.PropTypes.object,\n    ]).isRequired,\n    isFormValid: React.PropTypes.func,\n};\n//\n// export default React.createClass({\n//\n//\n//    render() {\n//        return (\n//            <div style={this.props.style}>\n//                {this.props.children.map((child, index) => {\n//                    return React.cloneElement(child, {\n//                        isFormValid: this.props.isFormValid,\n//                        key: index,\n//                    });\n//                })}\n//            </div>\n//        );\n//    },\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/FormButtons.component.js","import React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport addD2Context from 'd2-ui/lib/component-helpers/addD2Context';\nimport { config } from 'd2/lib/d2';\n\nfunction SaveButton(props, { d2 }) {\n    const {\n        isValid,\n        isSaving,\n        onClick,\n        ...rest\n    } = props;\n    const buttonText = isSaving ? d2.i18n.getTranslation('saving') : d2.i18n.getTranslation('save');\n\n    return (\n        <RaisedButton {...rest} primary onClick={onClick} label={buttonText} disabled={isSaving || !isValid} />\n    );\n}\n\nSaveButton.propTypes = {\n    isSaving: React.PropTypes.bool,\n    isValid: React.PropTypes.bool,\n    onClick: React.PropTypes.func.isRequired,\n};\n\nexport default addD2Context(SaveButton);\n\n\n\n// WEBPACK FOOTER //\n// ./src/EditModel/SaveButton.component.js","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { Observable, Subject } from 'rx';\n\n/**\n * Run `validatorFunctions` in parallel and returns a resolved `Promise` with the validation status.\n * @param {function:Promise[]} validatorFunctions Array of validator functions that return a Promise.\n * @param {*} value The value that should be checked by the given validators\n * @returns {Promise.<Object>} Resolves promise with `{ isValid: true }` when validators passed\n * or with `{ isValid: false, message: '<error_message>'`} when one of the validators failed. The `message` property\n * contains the value that the failed validator function rejected with.\n */\nfunction runValidatorFunctions(validatorFunctions, value) {\n    return Promise.all(validatorFunctions.map(function (validator) {\n        return validator.call(null, value);\n    }))\n    // All validators passed\n    .then(function () {\n        return { isValid: true };\n    })\n    // When one of the validators failed a failure status with error message are emitted\n    .catch(function (errorMessage) {\n        return { isValid: false, message: errorMessage };\n    });\n}\n\n/**\n *\n */\n\nvar AsyncValidatorRunner = function () {\n    /**\n     *\n     * @param {Rx.Scheduler} [scheduler] Optional scheduler to be used for the Rx methods that can accept one.\n     */\n    function AsyncValidatorRunner(scheduler) {\n        _classCallCheck(this, AsyncValidatorRunner);\n\n        // Rx.Scheduler to be used to run the operations on\n        this.scheduler = scheduler;\n\n        // Rx.Subject that will serve as the validator pipeline\n        // The Runner passes the fields and values and emits\n        // success\n        this.validatorPipeline = new Subject();\n\n        // The amount of time to be used for debouncing the field values\n        this.debounceTimeInMs = 400;\n    }\n\n    /**\n     * Run the `asyncValidators` passed for the field with `fieldName`. `fieldName` is only\n     * used to pass through to the result so `listenToValidatorsFor` can identify which field\n     * the result belong to.\n     *\n     * @param {string} fieldName The name of the field\n     * @param {Array<Function>} asyncValidators An array of functions that each return a Promise thar resolves on valid\n     * and rejects on failure.\n     * @param {*} value The value that should be checked for validity.\n     *\n     * @returns {AsyncValidatorObject} Returns itself for chaining purposes\n     */\n\n\n    _createClass(AsyncValidatorRunner, [{\n        key: 'run',\n        value: function run(fieldName) {\n            var asyncValidators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var value = arguments[2];\n\n            this.validatorPipeline.onNext({ fieldName: fieldName, asyncValidators: asyncValidators, value: value });\n\n            return this;\n        }\n\n        /**\n         * Returns an Rx.Observable that can be subscribed to to be updated of validation results for the field\n         * with `fieldName`. This function when subscribing runs the validators that are passed for the given field when\n         * `run` was called. This allows for only running the validators that are at the time the validation request was\n         * issued were applicable to the field.\n         *\n         * @param {string} fieldName The name of the field to filter statuses for.\n         * @returns {Rx.Observable} Observable that represents validation results for the given `fieldName`.\n         */\n\n    }, {\n        key: 'listenToValidatorsFor',\n        value: function listenToValidatorsFor(fieldName) {\n            return this.validatorPipeline\n            // Filter the values by fieldName to make sure we only deal with the values for the requested field\n            .filter(function (field) {\n                return field.fieldName === fieldName;\n            })\n            // Only process the latest value within the specified time window\n            .debounce(this.debounceTimeInMs, this.scheduler).map(function (field) {\n                return Observable.fromPromise(runValidatorFunctions(field.asyncValidators, field.value)).map(function (status) {\n                    return Object.assign(status, { fieldName: field.fieldName, value: field.value });\n                });\n            })\n            // Flatten all observables in the correct order they should be processed\n            .concatAll();\n        }\n\n        /**\n         * Creates an instance of the AsyncValidatorRunner class\n         *\n         * @param {Rx.Scheduler} scheduler A scheduler to be used while running the pipeline operations\n         * @returns {AsyncValidatorRunner} The instantiated runner\n         * @static\n         */\n\n    }], [{\n        key: 'create',\n        value: function create(scheduler) {\n            return new AsyncValidatorRunner(scheduler);\n        }\n    }]);\n\n    return AsyncValidatorRunner;\n}();\n\nexport default AsyncValidatorRunner;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/forms/AsyncValidatorRunner.js\n// module id = 795\n// module chunks = 0 1 5","import React from 'react';\nimport Heading from 'd2-ui/lib/headings/Heading.component';\n\nexport default function AccessDenied() {\n    return (\n        <div>\n            <Heading>Access denied!</Heading>\n            <p>\n                Unfortunately you do not have access to this functionality.\n            </p>\n        </div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/App/AccessDenied.component.js","import Store from 'd2-ui/lib/store/Store';\n\nexport default Store.create();\n\n\n\n// WEBPACK FOOTER //\n// ./src/OrganisationUnitLevels/organisationUnitLevels.store.js"],"sourceRoot":""}