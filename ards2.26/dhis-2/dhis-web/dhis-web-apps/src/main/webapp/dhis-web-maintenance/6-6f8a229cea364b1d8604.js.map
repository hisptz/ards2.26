{"version":3,"sources":["webpack:///6-6f8a229cea364b1d8604.js","webpack:///./src/GroupEditor/GroupsForItemManager.component.js","webpack:///./src/GroupEditor/ItemsInGroupManager.component.js","webpack:///./src/GroupEditor/GroupEditor.component.js","webpack:///./~/d2-ui/lib/i18n/Translate.mixin.js?9c04*****","webpack:///./~/d2-ui/lib/group-editor/GroupEditor.component.js?efdd****","webpack:///./src/GroupEditor/ItemSelector.component.js","webpack:///./src/GroupEditor/ModelTypeSelector.component.js"],"names":["webpackJsonp","1014","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default","__WEBPACK_IMPORTED_MODULE_2_loglevel__","__WEBPACK_IMPORTED_MODULE_2_loglevel___default","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default","__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__","__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__","__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__","__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","Object","TypeError","a","createClass","displayName","mixins","getInitialState","itemStore","create","assignedItemStore","itemListStore","state","filterText","showGroupEditor","renderGroupEditor","this","createElement","modelToEdit","onItemSelected","_workItemChanged","fullWidth","hintText","getTranslation","defaultValue","onChange","_setFilterText","onAssignItems","_assignItems","onRemoveItems","_removeItems","render","contentStyle","padding","d2","context","accessibleModels","filter","schemaName","currentUser","canCreate","models","style","nameListFilter","_typeChanged","createUrls","items","_state","itemDefinition","map","id","modelDefinition","plural","_this","requests","url","getInstance","then","Api","getApi","api","post","Promise","all","name","get","_ref","_ref2","fullModel","setState","catch","message","error","_this2","delete","_ref3","_ref4","modelDef","_this3","list","paging","fields","modelCollection","toArray","event","target","model","_this4","reject","availablePromise","modelPromise","_ref5","_ref6","availableItems","reset","_this5","_ref7","_ref8","1015","contextTypes","PropTypes","object","accessibleGroups","groupName","replace","578","defineProperty","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__","__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__","__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__","__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default","__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__","__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__","_tabChanged","label","ref","refs","itemsForGroup","groupsForItem","585","Translate","isRequired","key","i18n","592","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress__","__WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress___default","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__","__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default","__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__","__WEBPACK_IMPORTED_MODULE_6__i18n_Translate_mixin_js__","strings","add","propTypes","string","func","height","number","componentDidMount","disposables","props","subscribe","loading","forceUpdate","componentWillReceiveProps","hasOwnProperty","leftSelect","rightSelect","selectedLeft","call","selectedOptions","item","text","toLowerCase","indexOf","trim","selectedRight","componentWillUnmount","forEach","disposable","dispose","getDefaultProps","getItemStoreIsCollection","values","has","getItemStoreIsArray","constructor","getAssignedItemStoreIsCollection","getAssignedItemStoreIsArray","getAllItems","from","getItemCount","size","getIsValueAssigned","getAssignedItems","getAvailableItems","getAllItemsFiltered","filterItems","getAssignedItemsFiltered","getAvailableItemsFiltered","getAssignedItemsCount","getAvailableItemsCount","getAssignedItemsFilterCount","getFilterText","getAvailableItemsFilterCount","getAssignedItemsUnfilteredCount","getAvailableItemsUnfilteredCount","getAvailableSelectedCount","Math","max","getAssignedSelectedCount","getSelectedCount","byAssignedItemsOrder","left","right","filterHeight","styles","container","display","marginTop","marginBottom","flex","middle","alignSelf","textAlign","paper","width","select","minHeight","border","fontFamily","fontSize","outline","options","buttons","minWidth","maxWidth","selected","status","hidden","color","fontStyle","background","maxHeight","overflow","textOverflow","whiteSpace","onChangeLeft","e","clearSelection","onChangeRight","hiddenLabel","itemCount","selectedLabel","multiple","r","onDoubleClick","disabled","onClick","_assignAll","secondary","sort","float","_removeAll","arguments","selectedIndex","getSelectedItems","_this6","_this7","_this8","_this9","935","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__","__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__","__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default","componentWillMount","modelList","payload","renderOptions","option","index","primaryText","_onChange","936","hasNameInArray","listToCheck","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__","__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default","__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__","_extends","assign","source","prototype","arrayOf","selectedModel","modelType","mapThroughDefinitions","v"],"mappings":"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","file":"6-6f8a229cea364b1d8604.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 1014:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(936);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(935);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(585);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(592);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupsForItemManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    render: function render() {\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        var d2 = this.context.d2;\n        var accessibleModels = ['indicator', 'dataElement'].filter(function (schemaName) {\n            return d2.currentUser.canCreate(d2.models[schemaName + 'Group']);\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleModels,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name + 'Group';\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name + 'Group';\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 1015:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__ = __webpack_require__(218);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_loglevel___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_loglevel__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__ = __webpack_require__(936);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__ = __webpack_require__(935);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(585);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__ = __webpack_require__(592);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemsInGroupManager.component',\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_7_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    getInitialState: function getInitialState() {\n        var itemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var assignedItemStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n        var itemListStore = __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_store_Store__[\"a\" /* default */].create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore: itemListStore,\n            itemStore: itemStore,\n            assignedItemStore: assignedItemStore,\n            filterText: '',\n            showGroupEditor: false\n        };\n    },\n    renderGroupEditor: function renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__ItemSelector_component__[\"a\" /* default */], {\n                value: this.state.modelToEdit || this.state.itemListStore.state[0],\n                itemListStore: this.state.itemListStore,\n                onItemSelected: this._workItemChanged\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_material_ui_TextField_TextField___default.a, {\n                fullWidth: true,\n                hintText: this.getTranslation('search_available_selected_items'),\n                defaultValue: this.state.filterText,\n                onChange: this._setFilterText\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_8_d2_ui_lib_group_editor_GroupEditor_component__[\"a\" /* default */], {\n                itemStore: this.state.itemStore,\n                assignedItemStore: this.state.assignedItemStore,\n                onAssignItems: this._assignItems,\n                onRemoveItems: this._removeItems,\n                filterText: this.state.filterText\n            })\n        );\n    },\n    createUrls: function createUrls(items) {\n        var _state = this.state,\n            modelToEdit = _state.modelToEdit,\n            itemDefinition = _state.itemDefinition;\n\n\n        return items.map(function (id) {\n            return modelToEdit.modelDefinition.plural + '/' + modelToEdit.id + '/' + itemDefinition + '/' + id;\n        });\n    },\n    render: function render() {\n        var d2 = this.context.d2;\n\n        var accessibleGroups = ['indicatorGroup', 'dataElementGroup'].filter(function (groupName) {\n            return d2.currentUser.canCreate(d2.models[groupName]);\n        });\n\n        var contentStyle = {\n            padding: '2rem'\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: contentStyle },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ModelTypeSelector_component__[\"a\" /* default */], {\n                nameListFilter: accessibleGroups,\n                onChange: this._typeChanged\n            }),\n            this.renderGroupEditor()\n        );\n    },\n    _assignItems: function _assignItems(items) {\n        var _this = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.post(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this.state.modelToEdit.modelDefinition.name].get(_this.state.modelToEdit.id)]);\n            }).then(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                    d2 = _ref2[0],\n                    fullModel = _ref2[1];\n\n                _this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _removeItems: function _removeItems(items) {\n        var _this2 = this;\n\n        var requests = this.createUrls(items).map(function (url) {\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return d2.Api.getApi();\n            }).then(function (api) {\n                return api.delete(url);\n            });\n        });\n\n        return Promise.all(requests).then(function () {\n            var itemDefinition = _this2.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n            return __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n                return Promise.all([d2, d2.models[_this2.state.modelToEdit.modelDefinition.name].get(_this2.state.modelToEdit.id)]);\n            }).then(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    d2 = _ref4[0],\n                    fullModel = _ref4[1];\n\n                _this2.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this2.setState({\n                    modelToEdit: fullModel\n                });\n            }).catch(function (message) {\n                return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n            });\n        });\n    },\n    _typeChanged: function _typeChanged(modelDef) {\n        var _this3 = this;\n\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' }).then(function (modelCollection) {\n            return modelCollection.toArray();\n        }).then(function (models) {\n            return _this3.state.itemListStore.setState(models);\n        }).then(function () {\n            return _this3.setState({ showGroupEditor: true });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    _setFilterText: function _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value\n        });\n    },\n    _workItemChanged: function _workItemChanged(model) {\n        var _this4 = this;\n\n        var itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            if (!d2.models[itemDefinition]) {\n                return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n            }\n\n            var availablePromise = d2.models[itemDefinition].list({ paging: false });\n            var modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n            Promise.all([availablePromise, modelPromise]).then(function (_ref5) {\n                var _ref6 = _slicedToArray(_ref5, 2),\n                    availableItems = _ref6[0],\n                    fullModel = _ref6[1];\n\n                _this4.state.itemStore.setState(availableItems);\n                _this4.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                _this4.setState({\n                    modelToEdit: fullModel,\n                    itemDefinition: d2.models[itemDefinition].plural\n                });\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    },\n    reset: function reset() {\n        var _this5 = this;\n\n        if (!this.state.modelToEdit) {\n            return;\n        }\n\n        var itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return Promise.all([d2, d2.models[_this5.state.modelToEdit.modelDefinition.name].get(_this5.state.modelToEdit.id)]);\n        }).then(function (_ref7) {\n            var _ref8 = _slicedToArray(_ref7, 2),\n                d2 = _ref8[0],\n                fullModel = _ref8[1];\n\n            _this5.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n            _this5.setState({\n                modelToEdit: fullModel\n            });\n        }).catch(function (message) {\n            return __WEBPACK_IMPORTED_MODULE_2_loglevel___default.a.error(message);\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 578:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__ = __webpack_require__(127);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__ = __webpack_require__(84);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(222);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__ = __webpack_require__(1015);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__ = __webpack_require__(1014);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupEditor.component',\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_Tabs_Tabs___default.a,\n                { onChange: this._tabChanged },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage items in group' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__ItemsInGroupManager_component__[\"a\" /* default */], { ref: 'itemsForGroup' })\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_2_material_ui_Tabs_Tab___default.a,\n                    { label: 'Manage groups for item' },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__GroupsForItemManager_component__[\"a\" /* default */], { ref: 'groupsForItem' })\n                )\n            )\n        );\n    },\n    _tabChanged: function _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    }\n});\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\nvar Translate = {\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Translate;\n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress__ = __webpack_require__(121);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__ = __webpack_require__(222);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__ = __webpack_require__(217);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__i18n_Translate_mixin_js__ = __webpack_require__(585);\n\n\n\n// Material UI\n\n\n\n\n// D2\n\n\n// D2-UI\n\n\n// TODO: TOAST!\n// TODO: Undo support (in TOAST?)\n\n__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__[\"config\"].i18n.strings.add('selected');\n__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__[\"config\"].i18n.strings.add('assign_all');\n__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__[\"config\"].i18n.strings.add('remove_all');\n__WEBPACK_IMPORTED_MODULE_5_d2_lib_d2__[\"config\"].i18n.strings.add('hidden_by_filters');\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'GroupEditor.component',\n\n    propTypes: {\n        // itemStore: d2-ui store containing all available items, either as a D2 ModelCollection,\n        // or an array on the following format: [{value: 1, text: '1'}, {value: 2, text: '2'}, ...]\n        itemStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n\n        // assignedItemStore: d2-ui store containing all items assigned to the current group, either\n        // as a D2 ModelCollectionProperty or an array of ID's that match values in the itemStore\n        assignedItemStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n\n        // filterText: A string that will be used to filter items in both columns\n        filterText: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string,\n\n        // Note: Callbacks should return a promise that will resolve when the operation succeeds\n        // and is rejected when it fails. The component will be in a loading state until the promise\n        // resolves or is rejected.\n\n        // assign items callback, called with an array of values to be assigned to the group\n        onAssignItems: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n\n        // remove items callback, called with an array of values to be removed from the group\n        onRemoveItems: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired,\n\n        // The height of the component, defaults to 500px\n        height: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.number\n    },\n\n    contextTypes: {\n        d2: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_6__i18n_Translate_mixin_js__[\"a\" /* default */]],\n\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        this.disposables = [];\n\n        this.disposables.push(this.props.itemStore.subscribe(function (state) {\n            return _this.setState({ loading: !state });\n        }));\n        this.disposables.push(this.props.assignedItemStore.subscribe(function () {\n            return _this.forceUpdate();\n        }));\n    },\n    componentWillReceiveProps: function componentWillReceiveProps(props) {\n        if (props.hasOwnProperty('filterText') && this.leftSelect && this.rightSelect) {\n            this.setState({\n                selectedLeft: [].filter.call(this.leftSelect.selectedOptions, function (item) {\n                    return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                }).length,\n                selectedRight: [].filter.call(this.rightSelect.selectedOptions, function (item) {\n                    return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                }).length\n            });\n        }\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        this.disposables.forEach(function (disposable) {\n            disposable.dispose();\n        });\n    },\n    getDefaultProps: function getDefaultProps() {\n        return {\n            height: 500,\n            filterText: ''\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            // Number of items selected in the left/right columns\n            selectedLeft: 0,\n            selectedRight: 0,\n\n            // Loading\n            loading: true\n        };\n    },\n\n\n    //\n    // Data handling utility functions\n    //\n    getItemStoreIsCollection: function getItemStoreIsCollection() {\n        return this.props.itemStore.state !== undefined && typeof this.props.itemStore.state.values === 'function' && typeof this.props.itemStore.state.has === 'function';\n    },\n    getItemStoreIsArray: function getItemStoreIsArray() {\n        return this.props.itemStore.state !== undefined && this.props.itemStore.state.constructor.name === 'Array';\n    },\n    getAssignedItemStoreIsCollection: function getAssignedItemStoreIsCollection() {\n        return this.props.assignedItemStore.state !== undefined && typeof this.props.assignedItemStore.state.values === 'function' && typeof this.props.assignedItemStore.state.has === 'function';\n    },\n    getAssignedItemStoreIsArray: function getAssignedItemStoreIsArray() {\n        return this.props.assignedItemStore.state !== undefined && this.props.assignedItemStore.state.constructor.name === 'Array';\n    },\n    getAllItems: function getAllItems() {\n        return this.getItemStoreIsCollection() ? Array.from(this.props.itemStore.state.values()).map(function (item) {\n            return { value: item.id, text: item.name };\n        }) : this.props.itemStore.state || [];\n    },\n    getItemCount: function getItemCount() {\n        return this.getItemStoreIsCollection() && this.props.itemStore.state.size || this.getItemStoreIsArray() && this.props.itemStore.state.length || 0;\n    },\n    getIsValueAssigned: function getIsValueAssigned(value) {\n        return this.getAssignedItemStoreIsCollection() ? this.props.assignedItemStore.state.has(value) : this.props.assignedItemStore.state && this.props.assignedItemStore.state.indexOf(value) !== -1;\n    },\n    getAssignedItems: function getAssignedItems() {\n        var _this2 = this;\n\n        return this.getAllItems().filter(function (item) {\n            return _this2.getIsValueAssigned(item.value);\n        });\n    },\n    getAvailableItems: function getAvailableItems() {\n        var _this3 = this;\n\n        return this.getAllItems().filter(function (item) {\n            return !_this3.getIsValueAssigned(item.value);\n        });\n    },\n    getAllItemsFiltered: function getAllItemsFiltered() {\n        return this.filterItems(this.getAllItems());\n    },\n    getAssignedItemsFiltered: function getAssignedItemsFiltered() {\n        return this.filterItems(this.getAssignedItems());\n    },\n    getAvailableItemsFiltered: function getAvailableItemsFiltered() {\n        return this.filterItems(this.getAvailableItems());\n    },\n    getAssignedItemsCount: function getAssignedItemsCount() {\n        return this.getAssignedItems().length;\n    },\n    getAvailableItemsCount: function getAvailableItemsCount() {\n        return this.getAvailableItems().length;\n    },\n    getAssignedItemsFilterCount: function getAssignedItemsFilterCount() {\n        return this.getFilterText().length === 0 ? 0 : this.getAssignedItems().length - this.getAssignedItemsFiltered().length;\n    },\n    getAvailableItemsFilterCount: function getAvailableItemsFilterCount() {\n        return this.getFilterText().length === 0 ? 0 : this.getAvailableItems().length - this.getAvailableItemsFiltered().length;\n    },\n    getAssignedItemsUnfilteredCount: function getAssignedItemsUnfilteredCount() {\n        return this.getFilterText().length === 0 ? this.getAssignedItemsCount() : this.getAssignedItemsCount() - this.getAssignedItemsFilterCount();\n    },\n    getAvailableItemsUnfilteredCount: function getAvailableItemsUnfilteredCount() {\n        return this.getFilterText().length === 0 ? this.getAvailableItemsCount() : this.getAvailableItemsCount() - this.getAvailableItemsFilterCount();\n    },\n    getFilterText: function getFilterText() {\n        return this.props.filterText ? this.props.filterText.trim().toLowerCase() : '';\n    },\n    getAvailableSelectedCount: function getAvailableSelectedCount() {\n        return Math.max(this.state.selectedLeft, 0);\n    },\n    getAssignedSelectedCount: function getAssignedSelectedCount() {\n        return Math.max(this.state.selectedRight, 0);\n    },\n    getSelectedCount: function getSelectedCount() {\n        return Math.max(this.getAvailableSelectedCount(), this.getAssignedSelectedCount());\n    },\n    byAssignedItemsOrder: function byAssignedItemsOrder(left, right) {\n        var assignedItemStore = this.props.assignedItemStore.state;\n\n        // Don't order anything if the assignedItemStore is not an array\n        // TODO: Support sorting for a ModelCollectionProperty\n        if (!Array.isArray(assignedItemStore)) {\n            return 0;\n        }\n\n        return assignedItemStore.indexOf(left.value) > assignedItemStore.indexOf(right.value) ? 1 : -1;\n    },\n\n\n    //\n    // Rendering\n    //\n    render: function render() {\n        var _this4 = this;\n\n        var filterHeight = this.getFilterText().length > 0 ? 15 : 0;\n        var styles = {\n            container: {\n                display: 'flex',\n                marginTop: 16,\n                marginBottom: 32,\n                height: this.props.height + 'px'\n            },\n            left: {\n                flex: '1 0 120px'\n            },\n            middle: {\n                flex: '0 0 120px',\n                alignSelf: 'center',\n                textAlign: 'center'\n            },\n            right: {\n                flex: '1 0 120px'\n            },\n            paper: {\n                width: '100%',\n                height: '100%'\n            },\n            select: {\n                width: '100%',\n                minHeight: '50px',\n                height: this.props.height - filterHeight + 'px',\n                border: 'none',\n                fontFamily: 'Roboto',\n                fontSize: 13,\n                outline: 'none'\n            },\n            options: {\n                padding: '.25rem .5rem'\n            },\n            buttons: {\n                minWidth: '100px',\n                maxWidth: '100px',\n                marginTop: '8px'\n            },\n            selected: {\n                fontSize: 13,\n                minHeight: '15px',\n                marginTop: '45px',\n                padding: '0 8px'\n            },\n            status: {\n                marginTop: '8px',\n                minHeight: '60px'\n            },\n            hidden: {\n                fontSize: 13,\n                color: '#404040',\n                fontStyle: 'italic',\n                textAlign: 'center',\n                width: '100%',\n                background: '#d0d0d0',\n                maxHeight: '15px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n            }\n        };\n\n        var onChangeLeft = function onChangeLeft(e) {\n            _this4.clearSelection(false, true);\n            _this4.setState({\n                selectedLeft: e.target.selectedOptions.length\n            });\n        };\n\n        var onChangeRight = function onChangeRight(e) {\n            _this4.clearSelection(true, false);\n            _this4.setState({\n                selectedRight: e.target.selectedOptions.length\n            });\n        };\n\n        var hiddenLabel = function hiddenLabel(itemCount) {\n            return _this4.getItemCount() > 0 && _this4.getFilterText().length > 0 ? itemCount + ' ' + _this4.getTranslation('hidden_by_filters') : '';\n        };\n\n        var selectedLabel = function selectedLabel() {\n            return _this4.getSelectedCount() > 0 ? _this4.getSelectedCount() + ' ' + _this4.getTranslation('selected') : '';\n        };\n\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { style: styles.container },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.left },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n                    { style: styles.paper },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.hidden },\n                        hiddenLabel(this.getAvailableItemsFilterCount())\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'select',\n                        { multiple: true, style: styles.select, onChange: onChangeLeft,\n                            ref: function ref(r) {\n                                _this4.leftSelect = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"findDOMNode\"])(r);\n                            } },\n                        this.getAvailableItemsFiltered().map(function (item) {\n                            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                'option',\n                                { key: item.value, value: item.value,\n                                    onDoubleClick: _this4._assignItems,\n                                    style: styles.options },\n                                item.text\n                            );\n                        })\n                    )\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: this.getTranslation('assign_all') + ' ' + (this.getAvailableItemsUnfilteredCount() === 0 ? '' : this.getAvailableItemsUnfilteredCount()) + ' \\u2192',\n                    disabled: this.state.loading || this.getAvailableItemsUnfilteredCount() === 0,\n                    onClick: this._assignAll,\n                    style: { marginTop: '1rem' },\n                    secondary: true })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.middle },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.selected },\n                    selectedLabel()\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: '\\u2192',\n                    secondary: true,\n                    onClick: this._assignItems,\n                    style: styles.buttons,\n                    disabled: this.state.loading || this.state.selectedLeft === 0 }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: '\\u2190',\n                    secondary: true,\n                    onClick: this._removeItems,\n                    style: styles.buttons,\n                    disabled: this.state.loading || this.state.selectedRight === 0 }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'div',\n                    { style: styles.status },\n                    this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_CircularProgress_CircularProgress___default.a, { size: 0.5, style: { width: 60, height: 60 } }) : undefined\n                )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { style: styles.right },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    __WEBPACK_IMPORTED_MODULE_3_material_ui_Paper_Paper___default.a,\n                    { style: styles.paper },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'div',\n                        { style: styles.hidden },\n                        hiddenLabel(this.getAssignedItemsFilterCount())\n                    ),\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                        'select',\n                        { multiple: true, style: styles.select, onChange: onChangeRight,\n                            ref: function ref(r) {\n                                _this4.rightSelect = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"findDOMNode\"])(r);\n                            } },\n                        this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function (item) {\n                            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                                'option',\n                                { key: item.value, value: item.value,\n                                    onDoubleClick: _this4._removeItems,\n                                    style: styles.options },\n                                item.text\n                            );\n                        })\n                    )\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_material_ui_RaisedButton_RaisedButton___default.a, {\n                    label: '\\u2190 ' + this.getTranslation('remove_all') + ' ' + (this.getAssignedItemsUnfilteredCount() > 0 ? this.getAssignedItemsUnfilteredCount() : ''),\n                    style: { float: 'right', marginTop: '1rem' },\n                    disabled: this.state.loading || this.getAssignedItemsUnfilteredCount() === 0,\n                    onClick: this._removeAll,\n                    secondary: true })\n            )\n        );\n    },\n    clearSelection: function clearSelection() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n        if (left) {\n            this.leftSelect.selectedIndex = -1;\n        }\n\n        if (right) {\n            this.rightSelect.selectedIndex = -1;\n        }\n\n        this.setState(function (state) {\n            return {\n                selectedLeft: left ? 0 : state.selectedLeft,\n                selectedRight: right ? 0 : state.selectedRight\n            };\n        });\n    },\n    filterItems: function filterItems(items) {\n        var _this5 = this;\n\n        return items.filter(function (item) {\n            return _this5.getFilterText().length === 0 || item.text.trim().toLowerCase().indexOf(_this5.getFilterText()) !== -1;\n        });\n    },\n    getSelectedItems: function getSelectedItems() {\n        return [].map.call(this.rightSelect.selectedOptions, function (item) {\n            return item.value;\n        });\n    },\n\n\n    //\n    // Event handlers\n    //\n    _assignItems: function _assignItems() {\n        var _this6 = this;\n\n        this.setState({ loading: true });\n        this.props.onAssignItems([].map.call(this.leftSelect.selectedOptions, function (item) {\n            return item.value;\n        })).then(function () {\n            _this6.clearSelection();\n            _this6.setState({ loading: false });\n        }).catch(function () {\n            _this6.setState({ loading: false });\n        });\n    },\n    _removeItems: function _removeItems() {\n        var _this7 = this;\n\n        this.setState({ loading: true });\n        this.props.onRemoveItems([].map.call(this.rightSelect.selectedOptions, function (item) {\n            return item.value;\n        })).then(function () {\n            _this7.clearSelection();\n            _this7.setState({ loading: false });\n        }).catch(function () {\n            _this7.setState({ loading: false });\n        });\n    },\n    _assignAll: function _assignAll() {\n        var _this8 = this;\n\n        this.setState({ loading: true });\n        this.props.onAssignItems([].map.call(this.leftSelect.options, function (item) {\n            return item.value;\n        })).then(function () {\n            _this8.clearSelection();\n            _this8.setState({ loading: false });\n        }).catch(function () {\n            _this8.setState({ loading: false });\n        });\n    },\n    _removeAll: function _removeAll() {\n        var _this9 = this;\n\n        this.setState({ loading: true });\n        this.props.onRemoveItems([].map.call(this.rightSelect.options, function (item) {\n            return item.value;\n        })).then(function () {\n            _this9.clearSelection();\n            _this9.setState({ loading: false });\n        }).catch(function () {\n            _this9.setState({ loading: false });\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 935:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ItemSelector.component',\n\n    propTypes: {\n        itemListStore: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.object.isRequired,\n        onItemSelected: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            items: []\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        this.disposable = this.props.itemListStore.map(function (modelList) {\n            return modelList.map(function (model) {\n                return {\n                    text: model.displayName,\n                    payload: model.id,\n                    model: model\n                };\n            });\n        }).subscribe(function (items) {\n            if (items.length) {\n                _this.props.onItemSelected(items[0].model);\n            }\n\n            _this.setState({ items: items });\n        });\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.disposable && this.disposable.dispose) {\n            this.disposable.dispose();\n        }\n    },\n    renderOptions: function renderOptions() {\n        return this.state.items.map(function (option, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n        });\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                { onChange: this._onChange, value: this.props.value && this.props.value.id, fullWidth: true },\n                this.renderOptions()\n            )\n        );\n    },\n    _onChange: function _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 936:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_d2_lib_d2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__ = __webpack_require__(585);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\n\n\n\n\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createClass({\n    displayName: 'ModelTypeSelector.component',\n\n    propTypes: {\n        nameListFilter: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.arrayOf(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.string),\n        onChange: __WEBPACK_IMPORTED_MODULE_0_react___default.a.PropTypes.func.isRequired\n    },\n\n    mixins: [__WEBPACK_IMPORTED_MODULE_5_d2_ui_lib_i18n_Translate_mixin__[\"a\" /* default */]],\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            nameListFilter: []\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            selectedModel: null\n        };\n    },\n    componentWillMount: function componentWillMount() {\n        var _this = this;\n\n        __WEBPACK_IMPORTED_MODULE_3_d2_lib_d2___default.a.getInstance().then(function (d2) {\n            return _this.setState({ models: d2.models });\n        });\n    },\n    _onChange: function _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType\n        });\n\n        this.props.onChange(modelType);\n    },\n    renderOptions: function renderOptions() {\n        var _this2 = this;\n\n        if (this.state && this.state.models) {\n            return this.state.models.mapThroughDefinitions(function (v) {\n                return v;\n            }).filter(hasNameInArray(this.props.nameListFilter)).map(function (value) {\n                return {\n                    text: _this2.getTranslation(__WEBPACK_IMPORTED_MODULE_4_d2_utilizr_lib_camelCaseToUnderscores___default()(value.plural)),\n                    payload: value\n                };\n            }).map(function (option, index) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_material_ui_MenuItem_MenuItem___default.a, { key: index, primaryText: option.text, value: option.payload });\n            });\n        }\n        return [];\n    },\n    render: function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_material_ui_SelectField_SelectField___default.a,\n                _extends({\n                    value: this.state.selectedModel,\n                    hintText: this.getTranslation('select_an_object_type'),\n                    fullWidth: true\n                }, this.props, {\n                    onChange: this._onChange\n                }),\n                this.renderOptions()\n            )\n        );\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 6-6f8a229cea364b1d8604.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return [];\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    render() {\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        const d2 = this.context.d2;\n        const accessibleModels = ['indicator', 'dataElement']\n            .filter(schemaName => d2.currentUser.canCreate(d2.models[`${schemaName}Group`]))\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleModels}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => {\n                return d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.post(url));\n            });\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then((d2) => {\n                        return Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n                    })\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => {\n                return d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url));\n            });\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n                return d2lib.getInstance()\n                    .then((d2) => {\n                        return Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n                    })\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    _typeChanged(modelDef) {\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = `${model.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) {return;}\n\n        const itemDefinition = `${this.state.modelToEdit.modelDefinition.name}Group`;\n\n        d2lib.getInstance()\n            .then((d2) => {\n                return Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n            })\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupsForItemManager.component.js","import React from 'react';\n\nimport TextField from 'material-ui/TextField/TextField';\nimport log from 'loglevel';\n\nimport d2lib from 'd2/lib/d2';\nimport ModelTypeSelector from './ModelTypeSelector.component';\nimport Store from 'd2-ui/lib/store/Store';\nimport ItemSelector from './ItemSelector.component';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\nimport GroupEditor from 'd2-ui/lib/group-editor/GroupEditor.component';\n\nexport default React.createClass({\n    mixins: [Translate],\n\n    contextTypes: {\n        d2: React.PropTypes.object,\n    },\n\n    getInitialState() {\n        const itemStore = Store.create();\n        const assignedItemStore = Store.create();\n        const itemListStore = Store.create();\n\n        itemStore.state = [];\n        assignedItemStore.state = [];\n\n        return {\n            itemListStore,\n            itemStore,\n            assignedItemStore,\n            filterText: '',\n            showGroupEditor: false,\n        };\n    },\n\n    renderGroupEditor() {\n        if (!this.state.showGroupEditor) {\n            return null;\n        }\n\n        return (\n            <div>\n                <ItemSelector\n                    value={this.state.modelToEdit || this.state.itemListStore.state[0]}\n                    itemListStore={this.state.itemListStore}\n                    onItemSelected={this._workItemChanged}\n                />\n                <TextField\n                    fullWidth\n                    hintText={this.getTranslation('search_available_selected_items')}\n                    defaultValue={this.state.filterText}\n                    onChange={this._setFilterText}\n                />\n                <GroupEditor\n                    itemStore={this.state.itemStore}\n                    assignedItemStore={this.state.assignedItemStore}\n                    onAssignItems={this._assignItems}\n                    onRemoveItems={this._removeItems}\n                    filterText={this.state.filterText}\n                />\n            </div>\n        );\n    },\n\n    createUrls(items) {\n        const { modelToEdit, itemDefinition } = this.state;\n\n        return items\n            .map(id => `${modelToEdit.modelDefinition.plural}/${modelToEdit.id}/${itemDefinition}/${id}`);\n    },\n\n    render() {\n        const d2 = this.context.d2;\n\n        const accessibleGroups = ['indicatorGroup', 'dataElementGroup']\n            .filter(groupName => d2.currentUser.canCreate(d2.models[groupName]))\n\n        const contentStyle = {\n            padding: '2rem',\n        };\n\n        return (\n            <div style={contentStyle}>\n                <ModelTypeSelector\n                    nameListFilter={accessibleGroups}\n                    onChange={this._typeChanged}\n                />\n                {this.renderGroupEditor()}\n            </div>\n        );\n    },\n\n    _assignItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => d2lib\n                .getInstance()\n                .then(d2 => d2.Api.getApi())\n                .then(api => api.post(url))\n            );\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then((d2) => {\n                        return Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n                    })\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _removeItems(items) {\n        const requests = this.createUrls(items)\n            .map(url => {\n                return d2lib.getInstance()\n                    .then(d2 => d2.Api.getApi())\n                    .then(api => api.delete(url));\n            });\n\n        return Promise.all(requests)\n            .then(() => {\n                const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n                return d2lib.getInstance()\n                    .then((d2) => {\n                        return Promise.all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n                    })\n                    .then(([d2, fullModel]) => {\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                        });\n                    })\n                    .catch(message => log.error(message));\n            });\n    },\n\n    _typeChanged(modelDef) {\n        if (!modelDef) {\n            return;\n        }\n\n        modelDef.list({ paging: false, fields: 'id,displayName,name' })\n            .then(modelCollection => modelCollection.toArray())\n            .then(models => this.state.itemListStore.setState(models))\n            .then(() => this.setState({ showGroupEditor: true }))\n            .catch(message => log.error(message));\n    },\n\n    _setFilterText(event) {\n        this.setState({\n            filterText: event.target.value,\n        });\n    },\n\n    _workItemChanged(model) {\n        const itemDefinition = model.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then((d2) => {\n                if (!d2.models[itemDefinition]) {\n                    return Promise.reject('This groupType does not have a model named: ' + itemDefinition);\n                }\n\n                const availablePromise = d2.models[itemDefinition].list({ paging: false });\n                const modelPromise = d2.models[model.modelDefinition.name].get(model.id);\n\n                Promise.all([availablePromise, modelPromise])\n                    .then(([availableItems, fullModel]) => {\n                        this.state.itemStore.setState(availableItems);\n                        this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                        this.setState({\n                            modelToEdit: fullModel,\n                            itemDefinition: d2.models[itemDefinition].plural,\n                        });\n                    });\n            })\n            .catch(message => log.error(message));\n    },\n\n    reset() {\n        if (!this.state.modelToEdit) {return;}\n\n        const itemDefinition = this.state.modelToEdit.modelDefinition.name.replace('Group', '');\n\n        d2lib.getInstance()\n            .then((d2) => {\n                return Promise\n                    .all([d2, d2.models[this.state.modelToEdit.modelDefinition.name].get(this.state.modelToEdit.id)]);\n            })\n            .then(([d2, fullModel]) => {\n                this.state.assignedItemStore.setState(fullModel[d2.models[itemDefinition].plural]);\n                this.setState({\n                    modelToEdit: fullModel,\n                });\n            })\n            .catch(message => log.error(message));\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemsInGroupManager.component.js","import React from 'react';\n\nimport Tabs from 'material-ui/Tabs/Tabs';\nimport Tab from 'material-ui/Tabs/Tab';\nimport Paper from 'material-ui/Paper/Paper';\n\nimport ItemsInGroupManager from './ItemsInGroupManager.component';\nimport GroupsForItemManager from './GroupsForItemManager.component';\n\nexport default React.createClass({\n    render() {\n        return (\n            <Paper>\n                <Tabs onChange={this._tabChanged}>\n                    <Tab label=\"Manage items in group\">\n                        <ItemsInGroupManager ref=\"itemsForGroup\" />\n                    </Tab>\n                    <Tab label=\"Manage groups for item\">\n                        <GroupsForItemManager ref=\"groupsForItem\" />\n                    </Tab>\n                </Tabs>\n            </Paper>\n        );\n    },\n\n    _tabChanged() {\n        this.refs.itemsForGroup.reset();\n        this.refs.groupsForItem.reset();\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/GroupEditor.component.js","import React from 'react';\n\nvar Translate = {\n    contextTypes: {\n        d2: React.PropTypes.object.isRequired\n    },\n\n    getTranslation: function getTranslation(key) {\n        return this.context.d2.i18n.getTranslation(key);\n    }\n};\n\nexport default Translate;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/i18n/Translate.mixin.js\n// module id = 585\n// module chunks = 0 1 2 3 4 5 6 7 9","import React from 'react';\nimport { findDOMNode } from 'react-dom';\n\n// Material UI\nimport CircularProgress from 'material-ui/CircularProgress/CircularProgress';\nimport Paper from 'material-ui/Paper/Paper';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\n\n// D2\nimport { config } from 'd2/lib/d2';\n\n// D2-UI\nimport TranslateMixin from '../i18n/Translate.mixin.js';\n\n// TODO: TOAST!\n// TODO: Undo support (in TOAST?)\n\nconfig.i18n.strings.add('selected');\nconfig.i18n.strings.add('assign_all');\nconfig.i18n.strings.add('remove_all');\nconfig.i18n.strings.add('hidden_by_filters');\n\nexport default React.createClass({\n    displayName: 'GroupEditor.component',\n\n    propTypes: {\n        // itemStore: d2-ui store containing all available items, either as a D2 ModelCollection,\n        // or an array on the following format: [{value: 1, text: '1'}, {value: 2, text: '2'}, ...]\n        itemStore: React.PropTypes.object.isRequired,\n\n        // assignedItemStore: d2-ui store containing all items assigned to the current group, either\n        // as a D2 ModelCollectionProperty or an array of ID's that match values in the itemStore\n        assignedItemStore: React.PropTypes.object.isRequired,\n\n        // filterText: A string that will be used to filter items in both columns\n        filterText: React.PropTypes.string,\n\n        // Note: Callbacks should return a promise that will resolve when the operation succeeds\n        // and is rejected when it fails. The component will be in a loading state until the promise\n        // resolves or is rejected.\n\n        // assign items callback, called with an array of values to be assigned to the group\n        onAssignItems: React.PropTypes.func.isRequired,\n\n        // remove items callback, called with an array of values to be removed from the group\n        onRemoveItems: React.PropTypes.func.isRequired,\n\n        // The height of the component, defaults to 500px\n        height: React.PropTypes.number\n    },\n\n    contextTypes: {\n        d2: React.PropTypes.object\n    },\n\n    mixins: [TranslateMixin],\n\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        this.disposables = [];\n\n        this.disposables.push(this.props.itemStore.subscribe(function (state) {\n            return _this.setState({ loading: !state });\n        }));\n        this.disposables.push(this.props.assignedItemStore.subscribe(function () {\n            return _this.forceUpdate();\n        }));\n    },\n    componentWillReceiveProps: function componentWillReceiveProps(props) {\n        if (props.hasOwnProperty('filterText') && this.leftSelect && this.rightSelect) {\n            this.setState({\n                selectedLeft: [].filter.call(this.leftSelect.selectedOptions, function (item) {\n                    return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                }).length,\n                selectedRight: [].filter.call(this.rightSelect.selectedOptions, function (item) {\n                    return item.text.toLowerCase().indexOf(('' + props.filterText).trim().toLowerCase()) !== -1;\n                }).length\n            });\n        }\n    },\n    componentWillUnmount: function componentWillUnmount() {\n        this.disposables.forEach(function (disposable) {\n            disposable.dispose();\n        });\n    },\n    getDefaultProps: function getDefaultProps() {\n        return {\n            height: 500,\n            filterText: ''\n        };\n    },\n    getInitialState: function getInitialState() {\n        return {\n            // Number of items selected in the left/right columns\n            selectedLeft: 0,\n            selectedRight: 0,\n\n            // Loading\n            loading: true\n        };\n    },\n\n\n    //\n    // Data handling utility functions\n    //\n    getItemStoreIsCollection: function getItemStoreIsCollection() {\n        return this.props.itemStore.state !== undefined && typeof this.props.itemStore.state.values === 'function' && typeof this.props.itemStore.state.has === 'function';\n    },\n    getItemStoreIsArray: function getItemStoreIsArray() {\n        return this.props.itemStore.state !== undefined && this.props.itemStore.state.constructor.name === 'Array';\n    },\n    getAssignedItemStoreIsCollection: function getAssignedItemStoreIsCollection() {\n        return this.props.assignedItemStore.state !== undefined && typeof this.props.assignedItemStore.state.values === 'function' && typeof this.props.assignedItemStore.state.has === 'function';\n    },\n    getAssignedItemStoreIsArray: function getAssignedItemStoreIsArray() {\n        return this.props.assignedItemStore.state !== undefined && this.props.assignedItemStore.state.constructor.name === 'Array';\n    },\n    getAllItems: function getAllItems() {\n        return this.getItemStoreIsCollection() ? Array.from(this.props.itemStore.state.values()).map(function (item) {\n            return { value: item.id, text: item.name };\n        }) : this.props.itemStore.state || [];\n    },\n    getItemCount: function getItemCount() {\n        return this.getItemStoreIsCollection() && this.props.itemStore.state.size || this.getItemStoreIsArray() && this.props.itemStore.state.length || 0;\n    },\n    getIsValueAssigned: function getIsValueAssigned(value) {\n        return this.getAssignedItemStoreIsCollection() ? this.props.assignedItemStore.state.has(value) : this.props.assignedItemStore.state && this.props.assignedItemStore.state.indexOf(value) !== -1;\n    },\n    getAssignedItems: function getAssignedItems() {\n        var _this2 = this;\n\n        return this.getAllItems().filter(function (item) {\n            return _this2.getIsValueAssigned(item.value);\n        });\n    },\n    getAvailableItems: function getAvailableItems() {\n        var _this3 = this;\n\n        return this.getAllItems().filter(function (item) {\n            return !_this3.getIsValueAssigned(item.value);\n        });\n    },\n    getAllItemsFiltered: function getAllItemsFiltered() {\n        return this.filterItems(this.getAllItems());\n    },\n    getAssignedItemsFiltered: function getAssignedItemsFiltered() {\n        return this.filterItems(this.getAssignedItems());\n    },\n    getAvailableItemsFiltered: function getAvailableItemsFiltered() {\n        return this.filterItems(this.getAvailableItems());\n    },\n    getAssignedItemsCount: function getAssignedItemsCount() {\n        return this.getAssignedItems().length;\n    },\n    getAvailableItemsCount: function getAvailableItemsCount() {\n        return this.getAvailableItems().length;\n    },\n    getAssignedItemsFilterCount: function getAssignedItemsFilterCount() {\n        return this.getFilterText().length === 0 ? 0 : this.getAssignedItems().length - this.getAssignedItemsFiltered().length;\n    },\n    getAvailableItemsFilterCount: function getAvailableItemsFilterCount() {\n        return this.getFilterText().length === 0 ? 0 : this.getAvailableItems().length - this.getAvailableItemsFiltered().length;\n    },\n    getAssignedItemsUnfilteredCount: function getAssignedItemsUnfilteredCount() {\n        return this.getFilterText().length === 0 ? this.getAssignedItemsCount() : this.getAssignedItemsCount() - this.getAssignedItemsFilterCount();\n    },\n    getAvailableItemsUnfilteredCount: function getAvailableItemsUnfilteredCount() {\n        return this.getFilterText().length === 0 ? this.getAvailableItemsCount() : this.getAvailableItemsCount() - this.getAvailableItemsFilterCount();\n    },\n    getFilterText: function getFilterText() {\n        return this.props.filterText ? this.props.filterText.trim().toLowerCase() : '';\n    },\n    getAvailableSelectedCount: function getAvailableSelectedCount() {\n        return Math.max(this.state.selectedLeft, 0);\n    },\n    getAssignedSelectedCount: function getAssignedSelectedCount() {\n        return Math.max(this.state.selectedRight, 0);\n    },\n    getSelectedCount: function getSelectedCount() {\n        return Math.max(this.getAvailableSelectedCount(), this.getAssignedSelectedCount());\n    },\n    byAssignedItemsOrder: function byAssignedItemsOrder(left, right) {\n        var assignedItemStore = this.props.assignedItemStore.state;\n\n        // Don't order anything if the assignedItemStore is not an array\n        // TODO: Support sorting for a ModelCollectionProperty\n        if (!Array.isArray(assignedItemStore)) {\n            return 0;\n        }\n\n        return assignedItemStore.indexOf(left.value) > assignedItemStore.indexOf(right.value) ? 1 : -1;\n    },\n\n\n    //\n    // Rendering\n    //\n    render: function render() {\n        var _this4 = this;\n\n        var filterHeight = this.getFilterText().length > 0 ? 15 : 0;\n        var styles = {\n            container: {\n                display: 'flex',\n                marginTop: 16,\n                marginBottom: 32,\n                height: this.props.height + 'px'\n            },\n            left: {\n                flex: '1 0 120px'\n            },\n            middle: {\n                flex: '0 0 120px',\n                alignSelf: 'center',\n                textAlign: 'center'\n            },\n            right: {\n                flex: '1 0 120px'\n            },\n            paper: {\n                width: '100%',\n                height: '100%'\n            },\n            select: {\n                width: '100%',\n                minHeight: '50px',\n                height: this.props.height - filterHeight + 'px',\n                border: 'none',\n                fontFamily: 'Roboto',\n                fontSize: 13,\n                outline: 'none'\n            },\n            options: {\n                padding: '.25rem .5rem'\n            },\n            buttons: {\n                minWidth: '100px',\n                maxWidth: '100px',\n                marginTop: '8px'\n            },\n            selected: {\n                fontSize: 13,\n                minHeight: '15px',\n                marginTop: '45px',\n                padding: '0 8px'\n            },\n            status: {\n                marginTop: '8px',\n                minHeight: '60px'\n            },\n            hidden: {\n                fontSize: 13,\n                color: '#404040',\n                fontStyle: 'italic',\n                textAlign: 'center',\n                width: '100%',\n                background: '#d0d0d0',\n                maxHeight: '15px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n            }\n        };\n\n        var onChangeLeft = function onChangeLeft(e) {\n            _this4.clearSelection(false, true);\n            _this4.setState({\n                selectedLeft: e.target.selectedOptions.length\n            });\n        };\n\n        var onChangeRight = function onChangeRight(e) {\n            _this4.clearSelection(true, false);\n            _this4.setState({\n                selectedRight: e.target.selectedOptions.length\n            });\n        };\n\n        var hiddenLabel = function hiddenLabel(itemCount) {\n            return _this4.getItemCount() > 0 && _this4.getFilterText().length > 0 ? itemCount + ' ' + _this4.getTranslation('hidden_by_filters') : '';\n        };\n\n        var selectedLabel = function selectedLabel() {\n            return _this4.getSelectedCount() > 0 ? _this4.getSelectedCount() + ' ' + _this4.getTranslation('selected') : '';\n        };\n\n        return React.createElement(\n            'div',\n            { style: styles.container },\n            React.createElement(\n                'div',\n                { style: styles.left },\n                React.createElement(\n                    Paper,\n                    { style: styles.paper },\n                    React.createElement(\n                        'div',\n                        { style: styles.hidden },\n                        hiddenLabel(this.getAvailableItemsFilterCount())\n                    ),\n                    React.createElement(\n                        'select',\n                        { multiple: true, style: styles.select, onChange: onChangeLeft,\n                            ref: function ref(r) {\n                                _this4.leftSelect = findDOMNode(r);\n                            } },\n                        this.getAvailableItemsFiltered().map(function (item) {\n                            return React.createElement(\n                                'option',\n                                { key: item.value, value: item.value,\n                                    onDoubleClick: _this4._assignItems,\n                                    style: styles.options },\n                                item.text\n                            );\n                        })\n                    )\n                ),\n                React.createElement(RaisedButton, {\n                    label: this.getTranslation('assign_all') + ' ' + (this.getAvailableItemsUnfilteredCount() === 0 ? '' : this.getAvailableItemsUnfilteredCount()) + ' \\u2192',\n                    disabled: this.state.loading || this.getAvailableItemsUnfilteredCount() === 0,\n                    onClick: this._assignAll,\n                    style: { marginTop: '1rem' },\n                    secondary: true })\n            ),\n            React.createElement(\n                'div',\n                { style: styles.middle },\n                React.createElement(\n                    'div',\n                    { style: styles.selected },\n                    selectedLabel()\n                ),\n                React.createElement(RaisedButton, {\n                    label: '\\u2192',\n                    secondary: true,\n                    onClick: this._assignItems,\n                    style: styles.buttons,\n                    disabled: this.state.loading || this.state.selectedLeft === 0 }),\n                React.createElement(RaisedButton, {\n                    label: '\\u2190',\n                    secondary: true,\n                    onClick: this._removeItems,\n                    style: styles.buttons,\n                    disabled: this.state.loading || this.state.selectedRight === 0 }),\n                React.createElement(\n                    'div',\n                    { style: styles.status },\n                    this.state.loading ? React.createElement(CircularProgress, { size: 0.5, style: { width: 60, height: 60 } }) : undefined\n                )\n            ),\n            React.createElement(\n                'div',\n                { style: styles.right },\n                React.createElement(\n                    Paper,\n                    { style: styles.paper },\n                    React.createElement(\n                        'div',\n                        { style: styles.hidden },\n                        hiddenLabel(this.getAssignedItemsFilterCount())\n                    ),\n                    React.createElement(\n                        'select',\n                        { multiple: true, style: styles.select, onChange: onChangeRight,\n                            ref: function ref(r) {\n                                _this4.rightSelect = findDOMNode(r);\n                            } },\n                        this.getAssignedItemsFiltered().sort(this.byAssignedItemsOrder).map(function (item) {\n                            return React.createElement(\n                                'option',\n                                { key: item.value, value: item.value,\n                                    onDoubleClick: _this4._removeItems,\n                                    style: styles.options },\n                                item.text\n                            );\n                        })\n                    )\n                ),\n                React.createElement(RaisedButton, {\n                    label: '\\u2190 ' + this.getTranslation('remove_all') + ' ' + (this.getAssignedItemsUnfilteredCount() > 0 ? this.getAssignedItemsUnfilteredCount() : ''),\n                    style: { float: 'right', marginTop: '1rem' },\n                    disabled: this.state.loading || this.getAssignedItemsUnfilteredCount() === 0,\n                    onClick: this._removeAll,\n                    secondary: true })\n            )\n        );\n    },\n    clearSelection: function clearSelection() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var right = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n        if (left) {\n            this.leftSelect.selectedIndex = -1;\n        }\n\n        if (right) {\n            this.rightSelect.selectedIndex = -1;\n        }\n\n        this.setState(function (state) {\n            return {\n                selectedLeft: left ? 0 : state.selectedLeft,\n                selectedRight: right ? 0 : state.selectedRight\n            };\n        });\n    },\n    filterItems: function filterItems(items) {\n        var _this5 = this;\n\n        return items.filter(function (item) {\n            return _this5.getFilterText().length === 0 || item.text.trim().toLowerCase().indexOf(_this5.getFilterText()) !== -1;\n        });\n    },\n    getSelectedItems: function getSelectedItems() {\n        return [].map.call(this.rightSelect.selectedOptions, function (item) {\n            return item.value;\n        });\n    },\n\n\n    //\n    // Event handlers\n    //\n    _assignItems: function _assignItems() {\n        var _this6 = this;\n\n        this.setState({ loading: true });\n        this.props.onAssignItems([].map.call(this.leftSelect.selectedOptions, function (item) {\n            return item.value;\n        })).then(function () {\n            _this6.clearSelection();\n            _this6.setState({ loading: false });\n        }).catch(function () {\n            _this6.setState({ loading: false });\n        });\n    },\n    _removeItems: function _removeItems() {\n        var _this7 = this;\n\n        this.setState({ loading: true });\n        this.props.onRemoveItems([].map.call(this.rightSelect.selectedOptions, function (item) {\n            return item.value;\n        })).then(function () {\n            _this7.clearSelection();\n            _this7.setState({ loading: false });\n        }).catch(function () {\n            _this7.setState({ loading: false });\n        });\n    },\n    _assignAll: function _assignAll() {\n        var _this8 = this;\n\n        this.setState({ loading: true });\n        this.props.onAssignItems([].map.call(this.leftSelect.options, function (item) {\n            return item.value;\n        })).then(function () {\n            _this8.clearSelection();\n            _this8.setState({ loading: false });\n        }).catch(function () {\n            _this8.setState({ loading: false });\n        });\n    },\n    _removeAll: function _removeAll() {\n        var _this9 = this;\n\n        this.setState({ loading: true });\n        this.props.onRemoveItems([].map.call(this.rightSelect.options, function (item) {\n            return item.value;\n        })).then(function () {\n            _this9.clearSelection();\n            _this9.setState({ loading: false });\n        }).catch(function () {\n            _this9.setState({ loading: false });\n        });\n    }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d2-ui/lib/group-editor/GroupEditor.component.js\n// module id = 592\n// module chunks = 0 1 2 3 4 6","import React from 'react';\n\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\n\nexport default React.createClass({\n    propTypes: {\n        itemListStore: React.PropTypes.object.isRequired,\n        onItemSelected: React.PropTypes.func.isRequired,\n    },\n\n    getInitialState() {\n        return {\n            items: [],\n        };\n    },\n\n    componentWillMount() {\n        this.disposable = this.props.itemListStore\n            .map(modelList => {\n                return modelList\n                    .map(model => {\n                        return {\n                            text: model.displayName,\n                            payload: model.id,\n                            model,\n                        };\n                    });\n            })\n            .subscribe(items => {\n                if (items.length) {\n                    this.props.onItemSelected(items[0].model);\n                }\n\n                this.setState({ items });\n            });\n    },\n\n    componentWillUnmount() {\n        if (this.disposable && this.disposable.dispose) {\n            this.disposable.dispose();\n        }\n    },\n\n    renderOptions() {\n        return this.state.items\n            .map((option, index) => {\n                return <MenuItem key={index} primaryText={option.text} value={option.payload} />\n            });\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField onChange={this._onChange} value={this.props.value && this.props.value.id} fullWidth>{this.renderOptions()}</SelectField>\n            </div>\n        );\n    },\n\n    _onChange(event, index, value) {\n        if (this.state.items && this.state.items[index]) {\n            this.props.onItemSelected(this.state.items[index].model);\n        }\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ItemSelector.component.js","import React from 'react';\nimport SelectField from 'material-ui/SelectField/SelectField';\nimport MenuItem from 'material-ui/MenuItem/MenuItem';\nimport d2lib from 'd2/lib/d2';\nimport camelCaseToUnderscores from 'd2-utilizr/lib/camelCaseToUnderscores';\nimport Translate from 'd2-ui/lib/i18n/Translate.mixin';\n\nfunction hasNameInArray(listToCheck) {\n    return function hasNameInArrayInner(value) {\n        // If no list has been given the result is always true\n        if (listToCheck.length === 0) {\n            return true;\n        }\n        return listToCheck.indexOf(value.name) !== -1;\n    };\n}\n\nexport default React.createClass({\n    propTypes: {\n        nameListFilter: React.PropTypes.arrayOf(React.PropTypes.string),\n        onChange: React.PropTypes.func.isRequired,\n    },\n\n    mixins: [Translate],\n\n    getDefaultProps() {\n        return {\n            nameListFilter: [],\n        };\n    },\n\n    getInitialState() {\n        return {\n            selectedModel: null,\n        };\n    },\n\n    componentWillMount() {\n        d2lib.getInstance()\n            .then(d2 => this.setState({ models: d2.models }));\n    },\n\n    _onChange(event, index, modelType) {\n        this.setState({\n            selectedModel: modelType,\n        });\n\n        this.props.onChange(modelType);\n    },\n\n    renderOptions() {\n        if (this.state && this.state.models) {\n            return this.state.models\n                .mapThroughDefinitions(v => v)\n                .filter(hasNameInArray(this.props.nameListFilter))\n                .map((value) => ({\n                    text: this.getTranslation(camelCaseToUnderscores(value.plural)),\n                    payload: value,\n                }))\n                .map((option, index) => {\n                    return (\n                        <MenuItem key={index} primaryText={option.text} value={option.payload} />\n                    );\n                });\n        }\n        return [];\n    },\n\n    render() {\n        return (\n            <div>\n                <SelectField\n                    value={this.state.selectedModel}\n                    hintText={this.getTranslation('select_an_object_type')}\n                    fullWidth\n                    {...this.props}\n                    onChange={this._onChange}\n                >\n                    {this.renderOptions()}\n                </SelectField>\n            </div>\n        );\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GroupEditor/ModelTypeSelector.component.js"],"sourceRoot":""}